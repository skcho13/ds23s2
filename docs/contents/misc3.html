<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sungkyun Cho">
<meta name="dcterms.date" content="2023-02-11">

<title>DG Data Analysis &amp; Vis - Misc.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Misc.</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">DG Data Analysis &amp; Vis</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/notice.html" class="sidebar-item-text sidebar-link">Notice</a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Introduction</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/intro.html" class="sidebar-item-text sidebar-link">Data Analysis Intro</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/setup.html" class="sidebar-item-text sidebar-link">Setup</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/pandas.html" class="sidebar-item-text sidebar-link">NumPy and pandas</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/inspection.html" class="sidebar-item-text sidebar-link">Inspecting data</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/vis.html" class="sidebar-item-text sidebar-link">Data visualization</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Visualize</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/seaborn.html" class="sidebar-item-text sidebar-link">Seaborn.objects</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/plots.html" class="sidebar-item-text sidebar-link">Plots</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/alt_plots.html" class="sidebar-item-text sidebar-link">Alternative plots</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/customizing.html" class="sidebar-item-text sidebar-link">Customizing</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Transform</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/subsetting.html" class="sidebar-item-text sidebar-link">Subsetting</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/views.html" class="sidebar-item-text sidebar-link">Views and Copies</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/transform.html" class="sidebar-item-text sidebar-link">Transforming I</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/case1.html" class="sidebar-item-text sidebar-link">Case study</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/exercise_transform.html" class="sidebar-item-text sidebar-link">Exercises</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">Transforming II</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/combine.html" class="sidebar-item-text sidebar-link">Combine</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/pivot.html" class="sidebar-item-text sidebar-link">Pivot</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/crosstab.html" class="sidebar-item-text sidebar-link">Pivot Table</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/exercise_wrangle.html" class="sidebar-item-text sidebar-link">Exercises</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">Solutions</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/sol1.html" class="sidebar-item-text sidebar-link">Transform 1 Sol</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/sol2.html" class="sidebar-item-text sidebar-link">Transform 2 Sol</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">Exercises</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/exercise1.html" class="sidebar-item-text sidebar-link">Billboard</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/exercise1_sol.html" class="sidebar-item-text sidebar-link">Solutions</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/exercise2.html" class="sidebar-item-text sidebar-link">MovieLens</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/exercise2_sol.html" class="sidebar-item-text sidebar-link">Solutions</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/eda.html" class="sidebar-item-text sidebar-link">Exploratory Data Analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/discretize.html" class="sidebar-item-text sidebar-link">Discretize</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">Modelling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/modelbasic.html" class="sidebar-item-text sidebar-link">Model basics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/modelling1.html" class="sidebar-item-text sidebar-link">Model building I</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/modelling2.html" class="sidebar-item-text sidebar-link">Model building II</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/logistic.html" class="sidebar-item-text sidebar-link">Model building III</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/modelling3_ex.html" class="sidebar-item-text sidebar-link">Exercises</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/misc4.html" class="sidebar-item-text sidebar-link">Misc.</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">Statistics</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="true">Communicate</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://docs.google.com/document/d/1cZ0JzhjjdMBYtlpgkKGJ9LSbuwcv5eRIOQ5CRahw5Js/edit?usp=sharing" class="sidebar-item-text sidebar-link">Ask</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://docs.google.com/document/d/1CFVAUGKB1h8z3vEAl5vjp5lvYiv-FLYtlRDFGSN2_aY/edit?usp=sharing" class="sidebar-item-text sidebar-link">Personal Project</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#flights-to-sfo" id="toc-flights-to-sfo" class="nav-link active" data-scroll-target="#flights-to-sfo">Flights to SFO</a></li>
  <li><a href="#bike-sharing-demand" id="toc-bike-sharing-demand" class="nav-link" data-scroll-target="#bike-sharing-demand">Bike Sharing Demand</a>
  <ul>
  <li><a href="#registered-bikers" id="toc-registered-bikers" class="nav-link" data-scroll-target="#registered-bikers">Registered bikers</a></li>
  <li><a href="#casual-bikers" id="toc-casual-bikers" class="nav-link" data-scroll-target="#casual-bikers">Casual bikers</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Misc.</h1>
<p class="subtitle lead">R for Data Science by Wickham &amp; Grolemund</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sungkyun Cho </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 11, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell" data-execution_count="1">
<details>
<summary>Load Packages</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numerical calculation &amp; data frames</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># visualization</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn.objects <span class="im">as</span> so</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sbcustom <span class="im">import</span> <span class="op">*</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># statistics</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="2">
<div class="cell-output cell-output-display" data-execution_count="2">
<style>.output {flex-direction: row;}</style>
</div>
</div>
<div class="cell" data-execution_count="3">
<details>
<summary>Options</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pandas options</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">"mode.copy_on_write"</span>, <span class="va">True</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>pd.options.display.precision <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>pd.options.display.float_format <span class="op">=</span> <span class="st">'</span><span class="sc">{:.2f}</span><span class="st">'</span>.<span class="bu">format</span>  <span class="co"># pd.reset_option('display.float_format')</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>pd.options.display.max_rows <span class="op">=</span> <span class="dv">8</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Numpy options</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(precision <span class="op">=</span> <span class="dv">2</span>, suppress<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="flights-to-sfo" class="level2">
<h2 class="anchored" data-anchor-id="flights-to-sfo">Flights to SFO</h2>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import the data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>flights <span class="op">=</span> sm.datasets.get_rdataset(<span class="st">'flights'</span>, <span class="st">'nycflights13'</span>).data</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the date column to a datetime object</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>flights[<span class="st">"time_hour"</span>] <span class="op">=</span> pd.to_datetime(flights[<span class="st">"time_hour"</span>])</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># add a column for the day of the week</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>flights[<span class="st">"dow"</span>] <span class="op">=</span> (</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    flights[<span class="st">"time_hour"</span>]</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    .dt.day_name()</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">str</span>[:<span class="dv">3</span>]</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    .astype(<span class="st">"category"</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    .cat.set_categories([<span class="st">"Sun"</span>, <span class="st">"Mon"</span>, <span class="st">"Tue"</span>, <span class="st">"Wed"</span>, <span class="st">"Thu"</span>, <span class="st">"Fri"</span>, <span class="st">"Sat"</span>])</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># add a column for the season</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>flights[<span class="st">"season"</span>] <span class="op">=</span> np.where(flights[<span class="st">"month"</span>].isin([<span class="dv">6</span>, <span class="dv">7</span>]), <span class="st">"summer"</span>, <span class="st">"other month"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter out the flights to SFO</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>sfo <span class="op">=</span> flights.query(<span class="st">'dest == "SFO" &amp; arr_delay &lt; 500'</span>).copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.formula.api <span class="im">import</span> ols</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>mod <span class="op">=</span> ols(<span class="st">"arr_delay ~ hour + origin + carrier + season + dow"</span>, data<span class="op">=</span>sfo).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sfo_resid <span class="op">=</span> sfo.assign(resid <span class="op">=</span> <span class="kw">lambda</span> x: mod.resid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(sfo_resid, x<span class="op">=</span><span class="st">'hour'</span>, y<span class="op">=</span><span class="st">'arr_delay'</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#.add(so.Dots(alpha=.1))</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<p><img src="misc3_files/figure-html/cell-9-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(sfo_resid, x<span class="op">=</span><span class="st">'hour'</span>, y<span class="op">=</span><span class="st">'arr_delay'</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#.add(so.Dots(alpha=.1))</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"month"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">4</span>))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<p><img src="misc3_files/figure-html/cell-10-output-1.png" width="1136" height="369"></p>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(sfo_resid, x<span class="op">=</span><span class="st">'hour'</span>, y<span class="op">=</span><span class="st">'arr_delay'</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#.add(so.Dots(alpha=.1))</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"season"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<p><img src="misc3_files/figure-html/cell-11-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(sfo_resid, x<span class="op">=</span><span class="st">'hour'</span>, y<span class="op">=</span><span class="st">'arr_delay'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#.add(so.Dots(alpha=.1))</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"dow"</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">9</span>, <span class="dv">4</span>))</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<p><img src="misc3_files/figure-html/cell-12-output-1.png" width="849" height="369"></p>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>rangeplot(sfo_resid, x<span class="op">=</span><span class="st">'origin'</span>, y<span class="op">=</span><span class="st">'arr_delay'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<p><img src="misc3_files/figure-html/cell-13-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>rangeplot(sfo_resid, x<span class="op">=</span><span class="st">'carrier'</span>, y<span class="op">=</span><span class="st">'arr_delay'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<p><img src="misc3_files/figure-html/cell-14-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mod.summary(slim<span class="op">=</span><span class="va">True</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:              arr_delay   R-squared:                       0.096
Model:                            OLS   Adj. R-squared:                  0.095
No. Observations:               13169   F-statistic:                     107.5
Covariance Type:            nonrobust   Prob (F-statistic):          2.79e-276
====================================================================================
                       coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------------
Intercept          -19.9124      2.115     -9.416      0.000     -24.058     -15.767
origin[T.JFK]        4.2375      0.966      4.389      0.000       2.345       6.130
carrier[T.B6]       -9.5917      1.807     -5.308      0.000     -13.134      -6.050
carrier[T.DL]      -17.9607      1.552    -11.569      0.000     -21.004     -14.918
carrier[T.UA]       -4.0442      1.424     -2.841      0.005      -6.835      -1.254
carrier[T.VX]       -4.8819      1.536     -3.178      0.001      -7.893      -1.870
season[T.summer]    24.6578      0.991     24.878      0.000      22.715      26.601
dow[T.Mon]          -3.4229      1.413     -2.422      0.015      -6.193      -0.653
dow[T.Tue]          -6.7104      1.419     -4.730      0.000      -9.491      -3.929
dow[T.Wed]          -5.3563      1.417     -3.779      0.000      -8.135      -2.578
dow[T.Thu]          -1.5421      1.415     -1.090      0.276      -4.316       1.231
dow[T.Fri]          -5.3761      1.414     -3.801      0.000      -8.148      -2.604
dow[T.Sat]         -11.1746      1.525     -7.329      0.000     -14.163      -8.186
hour                 2.0494      0.086     23.739      0.000       1.880       2.219
====================================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
<div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>mod <span class="op">=</span> ols(<span class="st">"arr_delay ~ hour + origin + carrier + season + dow"</span>, data<span class="op">=</span>sfo).fit()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>mod2 <span class="op">=</span> ols(<span class="st">"arr_delay ~ hour + origin + season + dow"</span>, data<span class="op">=</span>sfo).fit()</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>display(mod.rsquared, mod2.rsquared)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-execution_count="15">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.0960635757874263</code></pre>
</div>
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.08451115526233233</code></pre>
</div>
</div>
</div>
</div>
<div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>mod3 <span class="op">=</span> ols(<span class="st">"arr_delay ~ hour * C(month) + origin + carrier + dow"</span>, data<span class="op">=</span>sfo).fit()</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>display(mod3.rsquared, mod.rsquared)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-execution_count="16">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.13704348711571201</code></pre>
</div>
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.0960635757874263</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="bike-sharing-demand" class="level2">
<h2 class="anchored" data-anchor-id="bike-sharing-demand">Bike Sharing Demand</h2>
<p><a href="https://www.kaggle.com/datasets/marklvl/bike-sharing-dataset">Bike Sharing in Washington D.C. Dataset</a></p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>bikeshare <span class="op">=</span> pd.read_csv(<span class="st">"data/hour.csv"</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># bikeshare = pd.read_csv("data/day.csv", parse_dates=["datetime"])</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>bikeshare.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>   instant      dteday  season  yr  mnth  hr  holiday  weekday  workingday   
0        1  2011-01-01       1   0     1   0        0        6           0  \
1        2  2011-01-01       1   0     1   1        0        6           0   
2        3  2011-01-01       1   0     1   2        0        6           0   
3        4  2011-01-01       1   0     1   3        0        6           0   
4        5  2011-01-01       1   0     1   4        0        6           0   

   weathersit  temp  atemp  hum  windspeed  casual  registered  cnt  
0           1  0.24   0.29 0.81       0.00       3          13   16  
1           1  0.22   0.27 0.80       0.00       8          32   40  
2           1  0.22   0.27 0.80       0.00       5          27   32  
3           1  0.24   0.29 0.75       0.00       3          10   13  
4           1  0.24   0.29 0.75       0.00       0           1    1  </code></pre>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>bikeshare.rename({<span class="st">"dteday"</span>: <span class="st">"datetime"</span>, <span class="st">"cnt"</span>: <span class="st">"count"</span>}, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>bikeshare[<span class="st">"datetime"</span>] <span class="op">=</span> pd.to_datetime(bikeshare[<span class="st">"datetime"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>bikeshare[<span class="st">"year"</span>] <span class="op">=</span> bikeshare[<span class="st">"datetime"</span>].dt.year</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>bikeshare[<span class="st">"date"</span>] <span class="op">=</span> bikeshare[<span class="st">"datetime"</span>].dt.date</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>bikeshare[<span class="st">"day"</span>] <span class="op">=</span> bikeshare[<span class="st">"datetime"</span>].dt.day_of_year</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co">## a hack to get the day of the year</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># bikeshare["datetime"].apply(lambda x: x.replace(year=2011)) # pandas.Timestamp.replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>bikeshare[<span class="st">"season"</span>] <span class="op">=</span> bikeshare[<span class="st">"season"</span>].<span class="bu">map</span>({<span class="dv">1</span>: <span class="st">"winter"</span>, <span class="dv">2</span>: <span class="st">"spring"</span>, <span class="dv">3</span>: <span class="st">"summer"</span>, <span class="dv">4</span>: <span class="st">"fall"</span>})</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>bikeshare[<span class="st">"season"</span>] <span class="op">=</span> pd.Categorical(bikeshare[<span class="st">"season"</span>], categories<span class="op">=</span>[<span class="st">"winter"</span>, <span class="st">"spring"</span>, <span class="st">"summer"</span>, <span class="st">"fall"</span>], ordered<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>bikeshare</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>       instant   datetime  season  yr  mnth  hr  holiday  weekday  workingday   
0            1 2011-01-01  winter   0     1   0        0        6           0  \
1            2 2011-01-01  winter   0     1   1        0        6           0   
2            3 2011-01-01  winter   0     1   2        0        6           0   
3            4 2011-01-01  winter   0     1   3        0        6           0   
...        ...        ...     ...  ..   ...  ..      ...      ...         ...   
17375    17376 2012-12-31  winter   1    12  20        0        1           1   
17376    17377 2012-12-31  winter   1    12  21        0        1           1   
17377    17378 2012-12-31  winter   1    12  22        0        1           1   
17378    17379 2012-12-31  winter   1    12  23        0        1           1   

       weathersit  temp  atemp  hum  windspeed  casual  registered  count   
0               1  0.24   0.29 0.81       0.00       3          13     16  \
1               1  0.22   0.27 0.80       0.00       8          32     40   
2               1  0.22   0.27 0.80       0.00       5          27     32   
3               1  0.24   0.29 0.75       0.00       3          10     13   
...           ...   ...    ...  ...        ...     ...         ...    ...   
17375           2  0.26   0.26 0.60       0.16       8          81     89   
17376           1  0.26   0.26 0.60       0.16       7          83     90   
17377           1  0.26   0.27 0.56       0.13      13          48     61   
17378           1  0.26   0.27 0.65       0.13      12          37     49   

       year        date  day  
0      2011  2011-01-01    1  
1      2011  2011-01-01    1  
2      2011  2011-01-01    1  
3      2011  2011-01-01    1  
...     ...         ...  ...  
17375  2012  2012-12-31  366  
17376  2012  2012-12-31  366  
17377  2012  2012-12-31  366  
17378  2012  2012-12-31  366  

[17379 rows x 20 columns]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 날에 따른 변화</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>bikes_daily1 <span class="op">=</span> bikeshare.groupby(<span class="st">"date"</span>)[[<span class="st">"casual"</span>, <span class="st">"registered"</span>, <span class="st">"count"</span>]].<span class="bu">sum</span>()</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>bikes_daily2 <span class="op">=</span> bikeshare.groupby(<span class="st">"date"</span>)[<span class="st">"temp"</span>].agg([(<span class="st">"temp_h"</span>, <span class="st">"max"</span>), (<span class="st">"temp_l"</span>, <span class="st">"min"</span>), (<span class="st">"temp_m"</span>, <span class="st">"mean"</span>)])</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>bikes_daily3 <span class="op">=</span> bikeshare.groupby(<span class="st">"date"</span>)[<span class="st">"windspeed"</span>].mean()</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>bikes_daily <span class="op">=</span> bikes_daily1.join(bikes_daily2).join(bikes_daily3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>bikes_daily <span class="op">=</span> bikes_daily.reset_index()</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>bikes_daily</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>           date  casual  registered  count  temp_h  temp_l  temp_m  windspeed
0    2011-01-01     331         654    985    0.46    0.20    0.34       0.16
1    2011-01-02     131         670    801    0.46    0.22    0.36       0.25
2    2011-01-03     120        1229   1349    0.26    0.14    0.20       0.25
3    2011-01-04     108        1454   1562    0.30    0.12    0.20       0.16
..          ...     ...         ...    ...     ...     ...     ...        ...
727  2012-12-28     644        2451   3095    0.30    0.22    0.25       0.16
728  2012-12-29     159        1182   1341    0.30    0.20    0.25       0.12
729  2012-12-30     364        1432   1796    0.34    0.20    0.26       0.35
730  2012-12-31     439        2290   2729    0.28    0.14    0.22       0.15

[731 rows x 8 columns]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>bikes_daily.rename(columns<span class="op">=</span>{<span class="st">"count"</span>: <span class="st">"bikers"</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>bikes_daily[<span class="st">"date"</span>] <span class="op">=</span> pd.to_datetime(bikes_daily[<span class="st">"date"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>bikes_daily <span class="op">=</span> bikes_daily.assign(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    wday <span class="op">=</span> <span class="kw">lambda</span> x: x[<span class="st">"date"</span>].dt.day_name().<span class="bu">str</span>[:<span class="dv">3</span>],</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    month <span class="op">=</span> <span class="kw">lambda</span> x: x[<span class="st">"date"</span>].dt.month_name().<span class="bu">str</span>[:<span class="dv">3</span>],</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> <span class="kw">lambda</span> x: x[<span class="st">"date"</span>].dt.year.astype(<span class="bu">str</span>),</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    day <span class="op">=</span> <span class="kw">lambda</span> x: x[<span class="st">"date"</span>].dt.day_of_year</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>bikes_daily</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>          date  casual  registered  bikers  temp_h  temp_l  temp_m  windspeed   
0   2011-01-01     331         654     985    0.46    0.20    0.34       0.16  \
1   2011-01-02     131         670     801    0.46    0.22    0.36       0.25   
2   2011-01-03     120        1229    1349    0.26    0.14    0.20       0.25   
3   2011-01-04     108        1454    1562    0.30    0.12    0.20       0.16   
..         ...     ...         ...     ...     ...     ...     ...        ...   
727 2012-12-28     644        2451    3095    0.30    0.22    0.25       0.16   
728 2012-12-29     159        1182    1341    0.30    0.20    0.25       0.12   
729 2012-12-30     364        1432    1796    0.34    0.20    0.26       0.35   
730 2012-12-31     439        2290    2729    0.28    0.14    0.22       0.15   

    wday month  year  day  
0    Sat   Jan  2011    1  
1    Sun   Jan  2011    2  
2    Mon   Jan  2011    3  
3    Tue   Jan  2011    4  
..   ...   ...   ...  ...  
727  Fri   Dec  2012  363  
728  Sat   Dec  2012  364  
729  Sun   Dec  2012  365  
730  Mon   Dec  2012  366  

[731 rows x 12 columns]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily, x<span class="op">=</span><span class="st">'day'</span>, color<span class="op">=</span><span class="st">"year"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    .pair(y<span class="op">=</span>[<span class="st">'casual'</span>, <span class="st">'registered'</span>, <span class="st">'bikers'</span>])</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line())</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">9</span>))</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<p><img src="misc3_files/figure-html/cell-29-output-1.png" width="847" height="849"></p>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily, x<span class="op">=</span><span class="st">'day'</span>, y<span class="op">=</span><span class="st">'temp_m'</span>, color<span class="op">=</span><span class="st">"year"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Line())</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<p><img src="misc3_files/figure-html/cell-30-output-1.png" width="697" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 요일에 따라 차이가 있는가?</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sbcustom <span class="im">import</span> boxplot</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>boxplot(bikes_daily, x<span class="op">=</span><span class="st">"wday"</span>, y<span class="op">=</span><span class="st">"casual"</span>).facet(<span class="st">"year"</span>).layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<p><img src="misc3_files/figure-html/cell-31-output-1.png" width="753" height="369"></p>
</div>
</div>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>boxplot(bikes_daily, x<span class="op">=</span><span class="st">"wday"</span>, y<span class="op">=</span><span class="st">"registered"</span>).facet(<span class="st">"year"</span>).layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<p><img src="misc3_files/figure-html/cell-32-output-1.png" width="753" height="369"></p>
</div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 달/기온에 따라 차이가 있는가?</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>boxplot(bikes_daily, x<span class="op">=</span><span class="st">"month"</span>, y<span class="op">=</span><span class="st">"casual"</span>).facet(<span class="st">"year"</span>).layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<p><img src="misc3_files/figure-html/cell-33-output-1.png" width="751" height="369"></p>
</div>
</div>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>boxplot(bikes_daily, x<span class="op">=</span><span class="st">"month"</span>, y<span class="op">=</span><span class="st">"registered"</span>).facet(<span class="st">"year"</span>).layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<p><img src="misc3_files/figure-html/cell-34-output-1.png" width="751" height="369"></p>
</div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily, x<span class="op">=</span><span class="st">'temp_m'</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    .pair(y<span class="op">=</span>[<span class="st">'casual'</span>, <span class="st">'registered'</span>])</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"year"</span>)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="fl">9.5</span>, <span class="dv">7</span>))</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<p><img src="misc3_files/figure-html/cell-35-output-1.png" width="906" height="657"></p>
</div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily, x<span class="op">=</span><span class="st">'windspeed'</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    .pair(y<span class="op">=</span>[<span class="st">'casual'</span>, <span class="st">'registered'</span>])</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"year"</span>)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="fl">9.5</span>, <span class="dv">7</span>))</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<p><img src="misc3_files/figure-html/cell-36-output-1.png" width="897" height="657"></p>
</div>
</div>
<section id="registered-bikers" class="level3">
<h3 class="anchored" data-anchor-id="registered-bikers">Registered bikers</h3>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily, x<span class="op">=</span><span class="st">'temp_m'</span>, y<span class="op">=</span><span class="st">'registered'</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(color<span class="op">=</span><span class="st">"red"</span>), so.PolyFit(<span class="dv">2</span>))</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"year"</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<p><img src="misc3_files/figure-html/cell-37-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.formula.api <span class="im">import</span> ols</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>mod_r1 <span class="op">=</span> ols(<span class="st">"registered ~ temp_m + I(temp_m**2) + year"</span>, data<span class="op">=</span>bikes_daily).fit()</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>mod_r2 <span class="op">=</span> ols(<span class="st">"registered ~ (temp_m + I(temp_m**2)) * year"</span>, data<span class="op">=</span>bikes_daily).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># R2 비교</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>display(mod_r1.rsquared, mod_r2.rsquared)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-execution_count="37">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.653140488583307</code></pre>
</div>
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.6681656702540484</code></pre>
</div>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>temp_m <span class="op">=</span> np.linspace(bikes_daily[<span class="st">"temp_m"</span>].<span class="bu">min</span>(), bikes_daily[<span class="st">"temp_m"</span>].<span class="bu">max</span>(), <span class="dv">30</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> np.array([<span class="st">"2011"</span>, <span class="st">"2012"</span>])</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> itertools <span class="im">import</span> product</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>grid <span class="op">=</span> pd.DataFrame(</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">list</span>(product(temp_m, year)),</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>[<span class="st">"temp_m"</span>, <span class="st">"year"</span>],</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>grid[<span class="st">"pred_r1"</span>] <span class="op">=</span> mod_r1.predict(grid)</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>grid[<span class="st">"pred_r2"</span>] <span class="op">=</span> mod_r2.predict(grid)</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    so.Plot(grid, x<span class="op">=</span><span class="st">'temp_m'</span>, color<span class="op">=</span><span class="st">"year"</span>)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    .pair(y<span class="op">=</span>[<span class="st">'pred_r1'</span>, <span class="st">'pred_r2'</span>])</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="cell quarto-layout-panel" data-execution_count="39">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="misc3_files/figure-html/cell-41-output-1.png" class="img-fluid" width="471"></p>
</div>
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="misc3_files/figure-html/cell-41-output-2.png" class="img-fluid" width="471"></p>
</div>
</div>
</div>
<div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>display(mod_r1.params, mod_r2.params)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-execution_count="40">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>Intercept        -1380.23
year[T.2012]      1730.99
temp_m           13858.78
I(temp_m ** 2)   -9666.59
dtype: float64</code></pre>
</div>
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>Intercept                      -378.86
year[T.2012]                   -902.70
temp_m                         9841.83
temp_m:year[T.2012]           10464.15
I(temp_m ** 2)                -6169.82
I(temp_m ** 2):year[T.2012]   -9171.97
dtype: float64</code></pre>
</div>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>bikes_daily_resid <span class="op">=</span> bikes_daily.assign(</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    resid_r1 <span class="op">=</span> mod_r1.resid,</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    resid_r2 <span class="op">=</span> mod_r2.resid</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid, x<span class="op">=</span><span class="st">'temp_m'</span>)</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    .pair(y<span class="op">=</span>[<span class="st">'resid_r1'</span>, <span class="st">'resid_r2'</span>])</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots(color<span class="op">=</span><span class="st">'.6'</span>))</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(color<span class="op">=</span><span class="st">"w"</span>), so.Agg(<span class="kw">lambda</span> x: <span class="dv">0</span>))</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"year"</span>)</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">6</span>))</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="cell-output cell-output-display" data-execution_count="41">
<p><img src="misc3_files/figure-html/cell-43-output-1.png" width="657" height="561"></p>
</div>
</div>
<p>온도와 달의 밀접한 관계?<br>
온도로 예측되지 못한 부분을 달이 추가적으로 예측할 수 있는 여지가 있는가?</p>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>mod <span class="op">=</span> ols(<span class="st">'temp_m ~ month'</span>, data<span class="op">=</span>bikes_daily).fit()</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>mod.rsquared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>0.8378460531273793</code></pre>
</div>
</div>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>boxplot(bikes_daily, x<span class="op">=</span><span class="st">'month'</span>, y<span class="op">=</span><span class="st">'temp_m'</span>).facet(<span class="st">"year"</span>).layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<p><img src="misc3_files/figure-html/cell-45-output-1.png" width="751" height="369"></p>
</div>
</div>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid, x<span class="op">=</span><span class="st">'month'</span>, y<span class="op">=</span><span class="st">'resid_r2'</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"year"</span>)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<p><img src="misc3_files/figure-html/cell-46-output-1.png" width="751" height="465"></p>
</div>
</div>
<p>9~11월에는 온도로는 예측되지 않는, 즉 같은 온도라고 해도 자건거를 특별히 더 대여하게 되는 특성이 있을 수 있음.<br>
반대로, 2~4월에는 온도로는 예측되지 않는 자건거를 특별히 더 적게 대여하게 되는 특성이 있을 수 있음.<br>
그 이유를 파악할 수 있다면, term을 만들어 추가할 수 있을 것.</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid, x<span class="op">=</span><span class="st">'date'</span>, y<span class="op">=</span><span class="st">'resid_r2'</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">3</span>), group<span class="op">=</span><span class="st">"year"</span>) <span class="co"># grouping by year</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<p><img src="misc3_files/figure-html/cell-47-output-1.png" width="753" height="465"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>px.scatter(bikes, x<span class="op">=</span><span class="st">"date"</span>, y<span class="op">=</span><span class="st">"resid_r2"</span>, color<span class="op">=</span><span class="st">"year"</span>, trendline<span class="op">=</span><span class="st">"lowess"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="c8dd925b-3f67-45bf-bb80-0218f180b2df" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c8dd925b-3f67-45bf-bb80-0218f180b2df")) {                    Plotly.newPlot(                        "c8dd925b-3f67-45bf-bb80-0218f180b2df",                        [{"hovertemplate":"year=2011<br>date=%{x}<br>resid_r2=%{y}<extra></extra>","legendgroup":"2011","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"2011","orientation":"v","showlegend":true,"x":["2011-01-01T00:00:00","2011-01-02T00:00:00","2011-01-03T00:00:00","2011-01-04T00:00:00","2011-01-05T00:00:00","2011-01-06T00:00:00","2011-01-07T00:00:00","2011-01-08T00:00:00","2011-01-09T00:00:00","2011-01-10T00:00:00","2011-01-11T00:00:00","2011-01-12T00:00:00","2011-01-13T00:00:00","2011-01-14T00:00:00","2011-01-15T00:00:00","2011-01-16T00:00:00","2011-01-17T00:00:00","2011-01-18T00:00:00","2011-01-19T00:00:00","2011-01-20T00:00:00","2011-01-21T00:00:00","2011-01-22T00:00:00","2011-01-23T00:00:00","2011-01-24T00:00:00","2011-01-25T00:00:00","2011-01-26T00:00:00","2011-01-27T00:00:00","2011-01-28T00:00:00","2011-01-29T00:00:00","2011-01-30T00:00:00","2011-01-31T00:00:00","2011-02-01T00:00:00","2011-02-02T00:00:00","2011-02-03T00:00:00","2011-02-04T00:00:00","2011-02-05T00:00:00","2011-02-06T00:00:00","2011-02-07T00:00:00","2011-02-08T00:00:00","2011-02-09T00:00:00","2011-02-10T00:00:00","2011-02-11T00:00:00","2011-02-12T00:00:00","2011-02-13T00:00:00","2011-02-14T00:00:00","2011-02-15T00:00:00","2011-02-16T00:00:00","2011-02-17T00:00:00","2011-02-18T00:00:00","2011-02-19T00:00:00","2011-02-20T00:00:00","2011-02-21T00:00:00","2011-02-22T00:00:00","2011-02-23T00:00:00","2011-02-24T00:00:00","2011-02-25T00:00:00","2011-02-26T00:00:00","2011-02-27T00:00:00","2011-02-28T00:00:00","2011-03-01T00:00:00","2011-03-02T00:00:00","2011-03-03T00:00:00","2011-03-04T00:00:00","2011-03-05T00:00:00","2011-03-06T00:00:00","2011-03-07T00:00:00","2011-03-08T00:00:00","2011-03-09T00:00:00","2011-03-10T00:00:00","2011-03-11T00:00:00","2011-03-12T00:00:00","2011-03-13T00:00:00","2011-03-14T00:00:00","2011-03-15T00:00:00","2011-03-16T00:00:00","2011-03-17T00:00:00","2011-03-18T00:00:00","2011-03-19T00:00:00","2011-03-20T00:00:00","2011-03-21T00:00:00","2011-03-22T00:00:00","2011-03-23T00:00:00","2011-03-24T00:00:00","2011-03-25T00:00:00","2011-03-26T00:00:00","2011-03-27T00:00:00","2011-03-28T00:00:00","2011-03-29T00:00:00","2011-03-30T00:00:00","2011-03-31T00:00:00","2011-04-01T00:00:00","2011-04-02T00:00:00","2011-04-03T00:00:00","2011-04-04T00:00:00","2011-04-05T00:00:00","2011-04-06T00:00:00","2011-04-07T00:00:00","2011-04-08T00:00:00","2011-04-09T00:00:00","2011-04-10T00:00:00","2011-04-11T00:00:00","2011-04-12T00:00:00","2011-04-13T00:00:00","2011-04-14T00:00:00","2011-04-15T00:00:00","2011-04-16T00:00:00","2011-04-17T00:00:00","2011-04-18T00:00:00","2011-04-19T00:00:00","2011-04-20T00:00:00","2011-04-21T00:00:00","2011-04-22T00:00:00","2011-04-23T00:00:00","2011-04-24T00:00:00","2011-04-25T00:00:00","2011-04-26T00:00:00","2011-04-27T00:00:00","2011-04-28T00:00:00","2011-04-29T00:00:00","2011-04-30T00:00:00","2011-05-01T00:00:00","2011-05-02T00:00:00","2011-05-03T00:00:00","2011-05-04T00:00:00","2011-05-05T00:00:00","2011-05-06T00:00:00","2011-05-07T00:00:00","2011-05-08T00:00:00","2011-05-09T00:00:00","2011-05-10T00:00:00","2011-05-11T00:00:00","2011-05-12T00:00:00","2011-05-13T00:00:00","2011-05-14T00:00:00","2011-05-15T00:00:00","2011-05-16T00:00:00","2011-05-17T00:00:00","2011-05-18T00:00:00","2011-05-19T00:00:00","2011-05-20T00:00:00","2011-05-21T00:00:00","2011-05-22T00:00:00","2011-05-23T00:00:00","2011-05-24T00:00:00","2011-05-25T00:00:00","2011-05-26T00:00:00","2011-05-27T00:00:00","2011-05-28T00:00:00","2011-05-29T00:00:00","2011-05-30T00:00:00","2011-05-31T00:00:00","2011-06-01T00:00:00","2011-06-02T00:00:00","2011-06-03T00:00:00","2011-06-04T00:00:00","2011-06-05T00:00:00","2011-06-06T00:00:00","2011-06-07T00:00:00","2011-06-08T00:00:00","2011-06-09T00:00:00","2011-06-10T00:00:00","2011-06-11T00:00:00","2011-06-12T00:00:00","2011-06-13T00:00:00","2011-06-14T00:00:00","2011-06-15T00:00:00","2011-06-16T00:00:00","2011-06-17T00:00:00","2011-06-18T00:00:00","2011-06-19T00:00:00","2011-06-20T00:00:00","2011-06-21T00:00:00","2011-06-22T00:00:00","2011-06-23T00:00:00","2011-06-24T00:00:00","2011-06-25T00:00:00","2011-06-26T00:00:00","2011-06-27T00:00:00","2011-06-28T00:00:00","2011-06-29T00:00:00","2011-06-30T00:00:00","2011-07-01T00:00:00","2011-07-02T00:00:00","2011-07-03T00:00:00","2011-07-04T00:00:00","2011-07-05T00:00:00","2011-07-06T00:00:00","2011-07-07T00:00:00","2011-07-08T00:00:00","2011-07-09T00:00:00","2011-07-10T00:00:00","2011-07-11T00:00:00","2011-07-12T00:00:00","2011-07-13T00:00:00","2011-07-14T00:00:00","2011-07-15T00:00:00","2011-07-16T00:00:00","2011-07-17T00:00:00","2011-07-18T00:00:00","2011-07-19T00:00:00","2011-07-20T00:00:00","2011-07-21T00:00:00","2011-07-22T00:00:00","2011-07-23T00:00:00","2011-07-24T00:00:00","2011-07-25T00:00:00","2011-07-26T00:00:00","2011-07-27T00:00:00","2011-07-28T00:00:00","2011-07-29T00:00:00","2011-07-30T00:00:00","2011-07-31T00:00:00","2011-08-01T00:00:00","2011-08-02T00:00:00","2011-08-03T00:00:00","2011-08-04T00:00:00","2011-08-05T00:00:00","2011-08-06T00:00:00","2011-08-07T00:00:00","2011-08-08T00:00:00","2011-08-09T00:00:00","2011-08-10T00:00:00","2011-08-11T00:00:00","2011-08-12T00:00:00","2011-08-13T00:00:00","2011-08-14T00:00:00","2011-08-15T00:00:00","2011-08-16T00:00:00","2011-08-17T00:00:00","2011-08-18T00:00:00","2011-08-19T00:00:00","2011-08-20T00:00:00","2011-08-21T00:00:00","2011-08-22T00:00:00","2011-08-23T00:00:00","2011-08-24T00:00:00","2011-08-25T00:00:00","2011-08-26T00:00:00","2011-08-27T00:00:00","2011-08-28T00:00:00","2011-08-29T00:00:00","2011-08-30T00:00:00","2011-08-31T00:00:00","2011-09-01T00:00:00","2011-09-02T00:00:00","2011-09-03T00:00:00","2011-09-04T00:00:00","2011-09-05T00:00:00","2011-09-06T00:00:00","2011-09-07T00:00:00","2011-09-08T00:00:00","2011-09-09T00:00:00","2011-09-10T00:00:00","2011-09-11T00:00:00","2011-09-12T00:00:00","2011-09-13T00:00:00","2011-09-14T00:00:00","2011-09-15T00:00:00","2011-09-16T00:00:00","2011-09-17T00:00:00","2011-09-18T00:00:00","2011-09-19T00:00:00","2011-09-20T00:00:00","2011-09-21T00:00:00","2011-09-22T00:00:00","2011-09-23T00:00:00","2011-09-24T00:00:00","2011-09-25T00:00:00","2011-09-26T00:00:00","2011-09-27T00:00:00","2011-09-28T00:00:00","2011-09-29T00:00:00","2011-09-30T00:00:00","2011-10-01T00:00:00","2011-10-02T00:00:00","2011-10-03T00:00:00","2011-10-04T00:00:00","2011-10-05T00:00:00","2011-10-06T00:00:00","2011-10-07T00:00:00","2011-10-08T00:00:00","2011-10-09T00:00:00","2011-10-10T00:00:00","2011-10-11T00:00:00","2011-10-12T00:00:00","2011-10-13T00:00:00","2011-10-14T00:00:00","2011-10-15T00:00:00","2011-10-16T00:00:00","2011-10-17T00:00:00","2011-10-18T00:00:00","2011-10-19T00:00:00","2011-10-20T00:00:00","2011-10-21T00:00:00","2011-10-22T00:00:00","2011-10-23T00:00:00","2011-10-24T00:00:00","2011-10-25T00:00:00","2011-10-26T00:00:00","2011-10-27T00:00:00","2011-10-28T00:00:00","2011-10-29T00:00:00","2011-10-30T00:00:00","2011-10-31T00:00:00","2011-11-01T00:00:00","2011-11-02T00:00:00","2011-11-03T00:00:00","2011-11-04T00:00:00","2011-11-05T00:00:00","2011-11-06T00:00:00","2011-11-07T00:00:00","2011-11-08T00:00:00","2011-11-09T00:00:00","2011-11-10T00:00:00","2011-11-11T00:00:00","2011-11-12T00:00:00","2011-11-13T00:00:00","2011-11-14T00:00:00","2011-11-15T00:00:00","2011-11-16T00:00:00","2011-11-17T00:00:00","2011-11-18T00:00:00","2011-11-19T00:00:00","2011-11-20T00:00:00","2011-11-21T00:00:00","2011-11-22T00:00:00","2011-11-23T00:00:00","2011-11-24T00:00:00","2011-11-25T00:00:00","2011-11-26T00:00:00","2011-11-27T00:00:00","2011-11-28T00:00:00","2011-11-29T00:00:00","2011-11-30T00:00:00","2011-12-01T00:00:00","2011-12-02T00:00:00","2011-12-03T00:00:00","2011-12-04T00:00:00","2011-12-05T00:00:00","2011-12-06T00:00:00","2011-12-07T00:00:00","2011-12-08T00:00:00","2011-12-09T00:00:00","2011-12-10T00:00:00","2011-12-11T00:00:00","2011-12-12T00:00:00","2011-12-13T00:00:00","2011-12-14T00:00:00","2011-12-15T00:00:00","2011-12-16T00:00:00","2011-12-17T00:00:00","2011-12-18T00:00:00","2011-12-19T00:00:00","2011-12-20T00:00:00","2011-12-21T00:00:00","2011-12-22T00:00:00","2011-12-23T00:00:00","2011-12-24T00:00:00","2011-12-25T00:00:00","2011-12-26T00:00:00","2011-12-27T00:00:00","2011-12-28T00:00:00","2011-12-29T00:00:00","2011-12-30T00:00:00","2011-12-31T00:00:00"],"xaxis":"x","y":[-1623.5495696963794,-1713.2956496195195,-86.8174712140119,111.28677426240392,-19.00450740403403,143.34298532341768,45.00975522896465,-186.0688053868157,-96.52712526331608,314.75138934195786,111.10169559731004,-0.0178254873189871,290.9311946131843,322.2777381740357,-555.6544258847009,-617.0329954287167,-277.90737231130606,-789.8976655552044,-397.9751422614929,70.0256059803703,294.32292460419194,706.4798221376981,322.38971422224313,808.8719604533334,286.5614859455193,-997.866910959522,-889.6894962921317,-239.28691797938177,-341.9902447710351,-506.8586611810492,259.8863488198315,28.373418706381244,-308.93566907662444,243.51772287412973,194.71811137655936,-676.6544258847009,-661.1840508684475,-247.48693098516085,-27.65820058958911,716.4352442425477,577.7691167004051,335.46354445757447,-321.5024302123011,-926.1628662879116,-937.9009602747464,-128.08500639496356,-231.4677873594169,-522.5746033809414,-728.2618550143889,-1463.6070664489612,-753.2921940166825,-1126.8025592584104,166.32824123697105,277.90046589208623,-284.5926832967357,-1046.9489259818051,-364.06635123910746,-565.6950627845845,-1241.0530835276322,-92.88490807936024,-322.7442645795777,231.5937406160108,-43.9743940196297,-1054.4750975454176,-1961.1150877974628,-146.4535610369278,-155.00812858855443,-292.71450667932163,-1939.445751481352,-388.1628662879116,-784.2373927131443,-1057.3990518119954,-482.31424983349825,-356.31999209631294,-521.5928717987917,-322.90096027474647,-781.6065809093052,-1200.952171590462,-787.4355918291426,-1038.296753972224,-521.4034731940051,-375.11059512939255,-225.91747975919293,119.53178755626368,-286.4212453995392,-495.4908794234723,14.339580112355408,74.28405867771835,-650.4046723215736,-311.7865258428419,-98.40467232157356,-755.1154444985841,-863.5073047504598,-854.698457941462,-1010.9626149671348,-130.20985167358185,-175.99712646398984,-931.4966837656156,-692.207546099989,-990.1380287156773,-801.3834442564157,-1231.739626695596,-678.0602167557513,-135.74121003418486,-302.2083057122545,-2042.101373362511,-642.8924972869631,-284.5341824992006,-225.8082524763222,38.24419448963545,604.629261790566,-729.2405337529331,-268.84634678615066,-777.3291275194315,-21.079617021172453,345.88217232533634,-26.393079626371673,143.1235952370571,681.2987722689768,453.04782840953794,-594.7046470765736,388.7763657109677,503.9796252556412,-260.96261496713487,979.629261790566,793.5797547961706,31.4296899271626,-166.68526683178516,585.5785997407515,996.5785997407506,487.4859377843077,1048.439750068917,368.4658175007994,-566.4203671429732,-233.99749228142036,-62.12090771444991,242.4241048527024,151.22623059604075,733.0473455155761,882.0566962812945,235.8432229757668,-231.1516206191695,61.88217232533634,403.8288217923773,807.4183901072488,422.1886695395042,344.9425875631091,-664.9904818011719,-1008.5565722198548,-971.4862737977664,-233.8061152526593,-78.06384876661423,728.1212618288473,1062.6069203736283,90.12644975118384,-187.5253687501836,416.7788096239192,574.110656897577,181.96600248560935,-193.2374307200721,236.23381864496196,-276.451545890704,-484.82823767593527,774.1264497511838,848.8483793808305,1045.2728321481743,-147.22499792098552,570.944230782603,-171.12371036392415,-381.1981635920738,-71.87355024881617,599.1387892802309,325.51372620223356,527.6317325618274,509.299057492964,-61.031228884889515,-75.65643980392633,389.75495504470655,387.64967513173406,860.6317325618274,1004.876289636076,604.82597185646,-609.29578900343,-1138.559898111614,-536.9270450618797,104.04055488475204,336.18061239210647,306.01503000419234,-149.72474861984892,-172.48627379776644,-392.4786801334685,-175.3595774802643,50.12060000376368,64.0405548847516,734.1387892802309,785.2385102441831,34.94533043350157,-212.01736903190476,87.04055488475205,245.74668942259996,147.32543399511678,-392.0784076592609,-705.0568615837392,-1231.530654358086,-983.465413271892,-255.79681305516397,298.19110578146683,358.1938847473407,240.1401654258898,-359.70295079140215,-629.6833211746707,-767.5306725889918,-4.808894218533169,499.3006760724452,-412.14788180611595,278.370402419519,343.4741226576052,-732.5598981116141,-1040.2347320433428,-59.40313061170855,152.1938847473407,355.9440132942641,473.61237571623633,357.1886695395042,-822.9098830416988,-973.7516641533545,124.1357531695994,515.7950469160942,514.0582300753517,-334.4135879055866,-111.75652731817765,-207.15709730536128,-875.5258773423948,448.2565644578235,1219.6338493971466,730.2902186767437,-359.5946023959359,405.79415706264945,-2571.6564398039263,-576.3977629569717,518.8000036564295,1037.8746035046988,946.5562405200976,911.4713650762787,452.8369872262201,-895.2146208144286,-1078.724748619849,-1335.7097813232565,-630.6065809093052,-1425.0642594497162,-1691.6856621784357,-284.5776004858899,165.8288217923773,-4.579233572658268,621.9124325176572,648.9091374443383,687.2902186767437,-16.120907714449913,1137.487525985508,108.43030355035351,-105.79115017436334,682.7763657109676,0.4241048527023849,520.2441944896354,870.7750020790145,-1189.930490634693,325.92038297882755,84.80252659664256,535.944230782603,256.80000365642945,44.12644975118383,841.9796252556412,1162.1850210464968,-670.1423504482736,-44.52217383247262,748.5249024545824,1030.088605932396,1135.7079192885544,1148.031781666638,997.3458848141972,97.73814498561114,-25.250977210154815,374.25784230697445,679.0230600287737,-948.1327509203812,-654.9640636490208,-55.31533532016556,294.1960140752976,251.4015665581387,739.1441307608075,998.5785997407506,-972.1156016974064,816.7452380130921,927.052163957516,131.03954589916293,87.9007684182925,631.336910894187,1101.39489900545,550.0886059323961,-464.8852522065649,1089.1463693314158,-1154.0302020164154,312.17984771199554,1052.869758284999,1083.2163209806058,1358.808085300844,1044.8457397503123,989.015671115359,592.2512332104166,396.2453322902493,1115.9844259547249,1217.8457397503123,1233.3003426664625,272.8876227430942,764.8169819224604,445.4778261675274,-47.73934224544246,786.7945722010681,641.7945722010681,-1156.8924972869631,650.476319496287,1291.3277417446627,527.7626072868557,-123.663089105813,-244.81245226977535,-1112.7519432938084,-306.73934224544246,-1500.4864264618332,-747.194329352923,-629.5354270003877,-578.370738209434,601.7042794965873,-17.886560433996692,1256.953163153059,1450.8102105597118,1567.8512046554606,894.7162224094363,649.1463693314158,1078.0397987302194,-385.2217573239768,-1964.1423504482736,1370.5787546004608,1397.3964756491505,826.9497710520445,872.3417994104109,1550.6869435166316,1458.9336487608923,1438.036023231603,850.0395458991629,954.805670647077,712.1373326612625,594.6869435166316,1271.2195372629683,1034.0397987302194,-151.74907417057148,159.18689257875485,-389.4864264618331,-1177.7159413222817,-1408.648106213652,-1261.965662958845,-1109.046836846941,33.93906439279726,484.29515578108703,418.80256730991687,-799.1423504482736],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>LOWESS trendline</b><br><br>year=2011<br>date=%{x}<br>resid_r2=%{y} <b>(trend)</b><extra></extra>","legendgroup":"2011","marker":{"color":"#636efa","symbol":"circle"},"mode":"lines","name":"2011","showlegend":false,"x":["2011-01-01T00:00:00","2011-01-02T00:00:00","2011-01-03T00:00:00","2011-01-04T00:00:00","2011-01-05T00:00:00","2011-01-06T00:00:00","2011-01-07T00:00:00","2011-01-08T00:00:00","2011-01-09T00:00:00","2011-01-10T00:00:00","2011-01-11T00:00:00","2011-01-12T00:00:00","2011-01-13T00:00:00","2011-01-14T00:00:00","2011-01-15T00:00:00","2011-01-16T00:00:00","2011-01-17T00:00:00","2011-01-18T00:00:00","2011-01-19T00:00:00","2011-01-20T00:00:00","2011-01-21T00:00:00","2011-01-22T00:00:00","2011-01-23T00:00:00","2011-01-24T00:00:00","2011-01-25T00:00:00","2011-01-26T00:00:00","2011-01-27T00:00:00","2011-01-28T00:00:00","2011-01-29T00:00:00","2011-01-30T00:00:00","2011-01-31T00:00:00","2011-02-01T00:00:00","2011-02-02T00:00:00","2011-02-03T00:00:00","2011-02-04T00:00:00","2011-02-05T00:00:00","2011-02-06T00:00:00","2011-02-07T00:00:00","2011-02-08T00:00:00","2011-02-09T00:00:00","2011-02-10T00:00:00","2011-02-11T00:00:00","2011-02-12T00:00:00","2011-02-13T00:00:00","2011-02-14T00:00:00","2011-02-15T00:00:00","2011-02-16T00:00:00","2011-02-17T00:00:00","2011-02-18T00:00:00","2011-02-19T00:00:00","2011-02-20T00:00:00","2011-02-21T00:00:00","2011-02-22T00:00:00","2011-02-23T00:00:00","2011-02-24T00:00:00","2011-02-25T00:00:00","2011-02-26T00:00:00","2011-02-27T00:00:00","2011-02-28T00:00:00","2011-03-01T00:00:00","2011-03-02T00:00:00","2011-03-03T00:00:00","2011-03-04T00:00:00","2011-03-05T00:00:00","2011-03-06T00:00:00","2011-03-07T00:00:00","2011-03-08T00:00:00","2011-03-09T00:00:00","2011-03-10T00:00:00","2011-03-11T00:00:00","2011-03-12T00:00:00","2011-03-13T00:00:00","2011-03-14T00:00:00","2011-03-15T00:00:00","2011-03-16T00:00:00","2011-03-17T00:00:00","2011-03-18T00:00:00","2011-03-19T00:00:00","2011-03-20T00:00:00","2011-03-21T00:00:00","2011-03-22T00:00:00","2011-03-23T00:00:00","2011-03-24T00:00:00","2011-03-25T00:00:00","2011-03-26T00:00:00","2011-03-27T00:00:00","2011-03-28T00:00:00","2011-03-29T00:00:00","2011-03-30T00:00:00","2011-03-31T00:00:00","2011-04-01T00:00:00","2011-04-02T00:00:00","2011-04-03T00:00:00","2011-04-04T00:00:00","2011-04-05T00:00:00","2011-04-06T00:00:00","2011-04-07T00:00:00","2011-04-08T00:00:00","2011-04-09T00:00:00","2011-04-10T00:00:00","2011-04-11T00:00:00","2011-04-12T00:00:00","2011-04-13T00:00:00","2011-04-14T00:00:00","2011-04-15T00:00:00","2011-04-16T00:00:00","2011-04-17T00:00:00","2011-04-18T00:00:00","2011-04-19T00:00:00","2011-04-20T00:00:00","2011-04-21T00:00:00","2011-04-22T00:00:00","2011-04-23T00:00:00","2011-04-24T00:00:00","2011-04-25T00:00:00","2011-04-26T00:00:00","2011-04-27T00:00:00","2011-04-28T00:00:00","2011-04-29T00:00:00","2011-04-30T00:00:00","2011-05-01T00:00:00","2011-05-02T00:00:00","2011-05-03T00:00:00","2011-05-04T00:00:00","2011-05-05T00:00:00","2011-05-06T00:00:00","2011-05-07T00:00:00","2011-05-08T00:00:00","2011-05-09T00:00:00","2011-05-10T00:00:00","2011-05-11T00:00:00","2011-05-12T00:00:00","2011-05-13T00:00:00","2011-05-14T00:00:00","2011-05-15T00:00:00","2011-05-16T00:00:00","2011-05-17T00:00:00","2011-05-18T00:00:00","2011-05-19T00:00:00","2011-05-20T00:00:00","2011-05-21T00:00:00","2011-05-22T00:00:00","2011-05-23T00:00:00","2011-05-24T00:00:00","2011-05-25T00:00:00","2011-05-26T00:00:00","2011-05-27T00:00:00","2011-05-28T00:00:00","2011-05-29T00:00:00","2011-05-30T00:00:00","2011-05-31T00:00:00","2011-06-01T00:00:00","2011-06-02T00:00:00","2011-06-03T00:00:00","2011-06-04T00:00:00","2011-06-05T00:00:00","2011-06-06T00:00:00","2011-06-07T00:00:00","2011-06-08T00:00:00","2011-06-09T00:00:00","2011-06-10T00:00:00","2011-06-11T00:00:00","2011-06-12T00:00:00","2011-06-13T00:00:00","2011-06-14T00:00:00","2011-06-15T00:00:00","2011-06-16T00:00:00","2011-06-17T00:00:00","2011-06-18T00:00:00","2011-06-19T00:00:00","2011-06-20T00:00:00","2011-06-21T00:00:00","2011-06-22T00:00:00","2011-06-23T00:00:00","2011-06-24T00:00:00","2011-06-25T00:00:00","2011-06-26T00:00:00","2011-06-27T00:00:00","2011-06-28T00:00:00","2011-06-29T00:00:00","2011-06-30T00:00:00","2011-07-01T00:00:00","2011-07-02T00:00:00","2011-07-03T00:00:00","2011-07-04T00:00:00","2011-07-05T00:00:00","2011-07-06T00:00:00","2011-07-07T00:00:00","2011-07-08T00:00:00","2011-07-09T00:00:00","2011-07-10T00:00:00","2011-07-11T00:00:00","2011-07-12T00:00:00","2011-07-13T00:00:00","2011-07-14T00:00:00","2011-07-15T00:00:00","2011-07-16T00:00:00","2011-07-17T00:00:00","2011-07-18T00:00:00","2011-07-19T00:00:00","2011-07-20T00:00:00","2011-07-21T00:00:00","2011-07-22T00:00:00","2011-07-23T00:00:00","2011-07-24T00:00:00","2011-07-25T00:00:00","2011-07-26T00:00:00","2011-07-27T00:00:00","2011-07-28T00:00:00","2011-07-29T00:00:00","2011-07-30T00:00:00","2011-07-31T00:00:00","2011-08-01T00:00:00","2011-08-02T00:00:00","2011-08-03T00:00:00","2011-08-04T00:00:00","2011-08-05T00:00:00","2011-08-06T00:00:00","2011-08-07T00:00:00","2011-08-08T00:00:00","2011-08-09T00:00:00","2011-08-10T00:00:00","2011-08-11T00:00:00","2011-08-12T00:00:00","2011-08-13T00:00:00","2011-08-14T00:00:00","2011-08-15T00:00:00","2011-08-16T00:00:00","2011-08-17T00:00:00","2011-08-18T00:00:00","2011-08-19T00:00:00","2011-08-20T00:00:00","2011-08-21T00:00:00","2011-08-22T00:00:00","2011-08-23T00:00:00","2011-08-24T00:00:00","2011-08-25T00:00:00","2011-08-26T00:00:00","2011-08-27T00:00:00","2011-08-28T00:00:00","2011-08-29T00:00:00","2011-08-30T00:00:00","2011-08-31T00:00:00","2011-09-01T00:00:00","2011-09-02T00:00:00","2011-09-03T00:00:00","2011-09-04T00:00:00","2011-09-05T00:00:00","2011-09-06T00:00:00","2011-09-07T00:00:00","2011-09-08T00:00:00","2011-09-09T00:00:00","2011-09-10T00:00:00","2011-09-11T00:00:00","2011-09-12T00:00:00","2011-09-13T00:00:00","2011-09-14T00:00:00","2011-09-15T00:00:00","2011-09-16T00:00:00","2011-09-17T00:00:00","2011-09-18T00:00:00","2011-09-19T00:00:00","2011-09-20T00:00:00","2011-09-21T00:00:00","2011-09-22T00:00:00","2011-09-23T00:00:00","2011-09-24T00:00:00","2011-09-25T00:00:00","2011-09-26T00:00:00","2011-09-27T00:00:00","2011-09-28T00:00:00","2011-09-29T00:00:00","2011-09-30T00:00:00","2011-10-01T00:00:00","2011-10-02T00:00:00","2011-10-03T00:00:00","2011-10-04T00:00:00","2011-10-05T00:00:00","2011-10-06T00:00:00","2011-10-07T00:00:00","2011-10-08T00:00:00","2011-10-09T00:00:00","2011-10-10T00:00:00","2011-10-11T00:00:00","2011-10-12T00:00:00","2011-10-13T00:00:00","2011-10-14T00:00:00","2011-10-15T00:00:00","2011-10-16T00:00:00","2011-10-17T00:00:00","2011-10-18T00:00:00","2011-10-19T00:00:00","2011-10-20T00:00:00","2011-10-21T00:00:00","2011-10-22T00:00:00","2011-10-23T00:00:00","2011-10-24T00:00:00","2011-10-25T00:00:00","2011-10-26T00:00:00","2011-10-27T00:00:00","2011-10-28T00:00:00","2011-10-29T00:00:00","2011-10-30T00:00:00","2011-10-31T00:00:00","2011-11-01T00:00:00","2011-11-02T00:00:00","2011-11-03T00:00:00","2011-11-04T00:00:00","2011-11-05T00:00:00","2011-11-06T00:00:00","2011-11-07T00:00:00","2011-11-08T00:00:00","2011-11-09T00:00:00","2011-11-10T00:00:00","2011-11-11T00:00:00","2011-11-12T00:00:00","2011-11-13T00:00:00","2011-11-14T00:00:00","2011-11-15T00:00:00","2011-11-16T00:00:00","2011-11-17T00:00:00","2011-11-18T00:00:00","2011-11-19T00:00:00","2011-11-20T00:00:00","2011-11-21T00:00:00","2011-11-22T00:00:00","2011-11-23T00:00:00","2011-11-24T00:00:00","2011-11-25T00:00:00","2011-11-26T00:00:00","2011-11-27T00:00:00","2011-11-28T00:00:00","2011-11-29T00:00:00","2011-11-30T00:00:00","2011-12-01T00:00:00","2011-12-02T00:00:00","2011-12-03T00:00:00","2011-12-04T00:00:00","2011-12-05T00:00:00","2011-12-06T00:00:00","2011-12-07T00:00:00","2011-12-08T00:00:00","2011-12-09T00:00:00","2011-12-10T00:00:00","2011-12-11T00:00:00","2011-12-12T00:00:00","2011-12-13T00:00:00","2011-12-14T00:00:00","2011-12-15T00:00:00","2011-12-16T00:00:00","2011-12-17T00:00:00","2011-12-18T00:00:00","2011-12-19T00:00:00","2011-12-20T00:00:00","2011-12-21T00:00:00","2011-12-22T00:00:00","2011-12-23T00:00:00","2011-12-24T00:00:00","2011-12-25T00:00:00","2011-12-26T00:00:00","2011-12-27T00:00:00","2011-12-28T00:00:00","2011-12-29T00:00:00","2011-12-30T00:00:00","2011-12-31T00:00:00"],"xaxis":"x","y":[-386.0581386950371,-384.3848458860949,-382.6957934728598,-380.9907219271726,-379.2693790296355,-377.5315380903829,-375.7769965636452,-374.0055799425946,-372.21713762548814,-370.41153405835416,-368.5886536104568,-366.74841390664733,-364.89076222858995,-363.0156725176025,-361.12315414493315,-359.21324735381216,-357.2859912833091,-355.34141701501034,-353.3795553961965,-351.4004247878056,-349.40404496630515,-347.3904597642856,-345.35975019404924,-343.3120422378263,-341.24750412525276,-339.16635035128667,-337.06882485804914,-334.95515718560165,-332.8255601299679,-330.6802516796295,-328.51945543049845,-326.343400162527,-324.15234237640067,-321.9465632458122,-319.72635998600555,-317.49206070886885,-315.2440207310887,-312.982593717875,-310.7081283108007,-308.42098397247395,-306.12154622356024,-303.8102453753025,-301.4875586045697,-299.1540005333762,-296.81009792034473,-294.4563662353614,-292.0933106789188,-289.72145006518696,-287.3413175160469,-284.9534485947224,-282.55836941629275,-280.15658507219007,-277.7485855186566,-275.33484887210926,-272.9158771148063,-270.49220492207127,-268.06437858506786,-265.63293488407885,-263.19841253320544,-260.76134651443874,-258.32225837752543,-255.88168081554022,-253.4401624767644,-250.99828226868917,-248.5566391272725,-246.11582052387092,-243.67640099182336,-241.23896781730517,-238.80412672149797,-236.37249233618218,-233.94466994006055,-231.52126452519911,-229.10287084199365,-226.6900666950645,-224.28342701818113,-221.88353041490353,-219.49095597885432,-217.10628471132353,-214.73008296022365,-212.36288984127683,-210.00521961126995,-207.65755872494495,-205.32037805887572,-202.99414192899496,-200.6793176890301,-198.3763865899077,-196.08582843401373,-193.8081123894223,-191.54371491802414,-189.29311914059127,-187.05678573826233,-184.8351570782888,-182.62865891555103,-180.43766701130534,-178.26248600236147,-176.1033345332444,-173.96033439007812,-171.83352971371622,-169.72286856090417,-167.62814741192702,-165.54897860399132,-163.4847465971161,-161.43456447618703,-159.397214852446,-157.37110980718754,-155.35425399260947,-153.34415531816393,-151.33770054190643,-149.33104630475523,-147.31951618998596,-145.29747472648333,-143.25820533591576,-141.19377292991243,-139.0947929733141,-136.9502818772295,-134.74752606786402,-132.4720859238589,-130.10789154299238,-127.63743957659312,-125.04224416163964,-122.30360593913042,-119.40368311952881,-116.63228739121541,-113.8290916127631,-110.99256953567846,-108.12147226386729,-105.21517268118758,-102.27372723349013,-99.29767860134359,-96.2880314649529,-93.24632297164949,-90.17449019695107,-87.07465780363194,-83.9490003091339,-80.79966266088478,-77.6282929092537,-74.43602852558165,-71.22399108163904,-67.99363179240392,-64.7463952529653,-61.48428614213137,-58.20982443737715,-54.92545899789359,-51.63350902298563,-48.33587338648519,-45.034034915117005,-41.72947865049878,-38.423637665400456,-35.118376475146306,-31.815791245010153,-28.51800055157084,-25.227188535132182,-21.94532842407556,-18.673949934110315,-15.414865827889878,-12.170150406174693,-8.941414694559779,-5.729631004669677,-2.535559646562259,0.6401275728186393,3.7969199051119125,6.93429406037767,10.051897001297545,13.14989555573362,16.22893664878196,19.289198444667935,22.330010000601206,25.350146336467255,28.348458371670766,31.32394719593081,34.27590710703872,37.20374659561978,40.10627216514095,42.98215521906656,45.83005275031101,48.64871896917773,51.43713326407897,54.1945899181455,56.920580498218705,59.6145829687048,62.27564301092859,64.90258849268875,67.4938917773153,70.04811004206411,72.56464261554169,75.04372418073487,77.48599350040377,79.89233350529712,82.26402831103722,84.60263324268385,86.9098633906062,89.18770700099185,91.43859461738123,93.66512386390042,95.8696027262908,98.05430317687394,100.22132887794899,102.37242592755807,104.50943275115971,106.63402866831692,108.74718704665456,110.84967205619475,112.9423083109493,115.02585194074851,117.1007640718984,119.16725343906822,121.2253844291588,123.27499397796107,125.31561654539517,127.34665139014182,129.3674711466109,131.37741490905552,133.37633404711337,135.3646163772565,137.3433347701995,139.31420423083154,141.27951379611102,143.24182741069765,145.2041369739038,147.1699270499384,149.14237578245277,151.12448998872082,153.11949198734948,155.13077208462843,157.16153999458203,159.21497083517164,161.2947094032947,163.40479247047972,165.5492239452675,167.73166353061129,169.95551846601575,172.22396783332798,174.5401198563704,176.9073891696524,179.32888618585164,181.80674317521004,184.34190446062107,186.93435760944152,189.58351675344804,192.28822081023142,195.04684451739064,197.85755980055274,200.71828010407575,203.62645300792892,207.63961234588405,211.63132591300175,215.58948824335462,219.50614341505033,223.37664503190794,227.1988993442443,230.97272729224997,234.69933959114778,238.38090491977155,242.02020963181823,245.62038198466462,249.1847066396465,252.71645448064953,256.21878602800655,259.6947079356378,263.14706937870676,266.57850233552807,269.99146093185095,273.3882341593571,276.7709148448385,280.141430144285,283.5015262992362,286.8527763163315,290.19665153482555,293.5345054232045,296.8675793606886,300.1969958468486,303.5237805170887,306.84887539921175,310.1731093957951,313.4972076555263,316.82186306850366,320.14772766414694,323.47537403680496,326.8052836888609,330.1378500390469,333.4733862098227,336.81214467846496,340.1543595948143,343.50025766641534,346.85004085004124,350.2038839477199,353.56197897282743,356.92453970888664,360.29178154626123,363.66390513261973,367.0410913074845,370.4234827190881,373.8111871092663,377.20431775484866,380.60295915903856,384.0071612806215,387.41696912356036,390.8324266470188,394.25355427385006,397.68033577456066,401.11274160943066,404.55075321457446,407.99433509294835,411.44346681087495,414.89812497001765,418.3582534061715,421.823756731216,425.29449826282735,428.77030703312204,432.25098542614296,435.7363250834885,439.2261118688971,442.7201045493122,446.21802784447567,449.7195803377026,453.22446108056187,456.7323626992051,460.24298299122296,463.75603740436617,467.2712353547717,470.7882867245037,474.30692790127125,477.8268916678846,481.3478864355458,484.86962118889073,488.39183466852376,491.91430466424623,495.4368513986797,498.9593340061409,502.4816455090026,506.0037227758417,509.5255486504846,513.0471424608955,516.5685310657769,520.0897521632277,523.6108144872204,527.1316830036641,530.652281171782,534.172509886489,537.6922574535218,541.2113992585341,544.7298382657285,548.2474832037482,551.7642092459805,555.27985408081,558.7942354534738,562.3071493589358,565.8183512658079,569.3275531894734,572.8344293704371,576.3386342236042,579.839805569612,583.3375752362746,586.8315703446359,590.3213902522627,593.8066203189884,597.2868799793744,600.7618282684912,604.2311758262641,607.6946813960526,611.1521439494055,614.6034067678926,618.0483612931163,621.4869363486833,624.9190777412617],"yaxis":"y","type":"scatter"},{"hovertemplate":"year=2012<br>date=%{x}<br>resid_r2=%{y}<extra></extra>","legendgroup":"2012","marker":{"color":"#EF553B","symbol":"circle"},"mode":"markers","name":"2012","orientation":"v","showlegend":true,"x":["2012-01-01T00:00:00","2012-01-02T00:00:00","2012-01-03T00:00:00","2012-01-04T00:00:00","2012-01-05T00:00:00","2012-01-06T00:00:00","2012-01-07T00:00:00","2012-01-08T00:00:00","2012-01-09T00:00:00","2012-01-10T00:00:00","2012-01-11T00:00:00","2012-01-12T00:00:00","2012-01-13T00:00:00","2012-01-14T00:00:00","2012-01-15T00:00:00","2012-01-16T00:00:00","2012-01-17T00:00:00","2012-01-18T00:00:00","2012-01-19T00:00:00","2012-01-20T00:00:00","2012-01-21T00:00:00","2012-01-22T00:00:00","2012-01-23T00:00:00","2012-01-24T00:00:00","2012-01-25T00:00:00","2012-01-26T00:00:00","2012-01-27T00:00:00","2012-01-28T00:00:00","2012-01-29T00:00:00","2012-01-30T00:00:00","2012-01-31T00:00:00","2012-02-01T00:00:00","2012-02-02T00:00:00","2012-02-03T00:00:00","2012-02-04T00:00:00","2012-02-05T00:00:00","2012-02-06T00:00:00","2012-02-07T00:00:00","2012-02-08T00:00:00","2012-02-09T00:00:00","2012-02-10T00:00:00","2012-02-11T00:00:00","2012-02-12T00:00:00","2012-02-13T00:00:00","2012-02-14T00:00:00","2012-02-15T00:00:00","2012-02-16T00:00:00","2012-02-17T00:00:00","2012-02-18T00:00:00","2012-02-19T00:00:00","2012-02-20T00:00:00","2012-02-21T00:00:00","2012-02-22T00:00:00","2012-02-23T00:00:00","2012-02-24T00:00:00","2012-02-25T00:00:00","2012-02-26T00:00:00","2012-02-27T00:00:00","2012-02-28T00:00:00","2012-02-29T00:00:00","2012-03-01T00:00:00","2012-03-02T00:00:00","2012-03-03T00:00:00","2012-03-04T00:00:00","2012-03-05T00:00:00","2012-03-06T00:00:00","2012-03-07T00:00:00","2012-03-08T00:00:00","2012-03-09T00:00:00","2012-03-10T00:00:00","2012-03-11T00:00:00","2012-03-12T00:00:00","2012-03-13T00:00:00","2012-03-14T00:00:00","2012-03-15T00:00:00","2012-03-16T00:00:00","2012-03-17T00:00:00","2012-03-18T00:00:00","2012-03-19T00:00:00","2012-03-20T00:00:00","2012-03-21T00:00:00","2012-03-22T00:00:00","2012-03-23T00:00:00","2012-03-24T00:00:00","2012-03-25T00:00:00","2012-03-26T00:00:00","2012-03-27T00:00:00","2012-03-28T00:00:00","2012-03-29T00:00:00","2012-03-30T00:00:00","2012-03-31T00:00:00","2012-04-01T00:00:00","2012-04-02T00:00:00","2012-04-03T00:00:00","2012-04-04T00:00:00","2012-04-05T00:00:00","2012-04-06T00:00:00","2012-04-07T00:00:00","2012-04-08T00:00:00","2012-04-09T00:00:00","2012-04-10T00:00:00","2012-04-11T00:00:00","2012-04-12T00:00:00","2012-04-13T00:00:00","2012-04-14T00:00:00","2012-04-15T00:00:00","2012-04-16T00:00:00","2012-04-17T00:00:00","2012-04-18T00:00:00","2012-04-19T00:00:00","2012-04-20T00:00:00","2012-04-21T00:00:00","2012-04-22T00:00:00","2012-04-23T00:00:00","2012-04-24T00:00:00","2012-04-25T00:00:00","2012-04-26T00:00:00","2012-04-27T00:00:00","2012-04-28T00:00:00","2012-04-29T00:00:00","2012-04-30T00:00:00","2012-05-01T00:00:00","2012-05-02T00:00:00","2012-05-03T00:00:00","2012-05-04T00:00:00","2012-05-05T00:00:00","2012-05-06T00:00:00","2012-05-07T00:00:00","2012-05-08T00:00:00","2012-05-09T00:00:00","2012-05-10T00:00:00","2012-05-11T00:00:00","2012-05-12T00:00:00","2012-05-13T00:00:00","2012-05-14T00:00:00","2012-05-15T00:00:00","2012-05-16T00:00:00","2012-05-17T00:00:00","2012-05-18T00:00:00","2012-05-19T00:00:00","2012-05-20T00:00:00","2012-05-21T00:00:00","2012-05-22T00:00:00","2012-05-23T00:00:00","2012-05-24T00:00:00","2012-05-25T00:00:00","2012-05-26T00:00:00","2012-05-27T00:00:00","2012-05-28T00:00:00","2012-05-29T00:00:00","2012-05-30T00:00:00","2012-05-31T00:00:00","2012-06-01T00:00:00","2012-06-02T00:00:00","2012-06-03T00:00:00","2012-06-04T00:00:00","2012-06-05T00:00:00","2012-06-06T00:00:00","2012-06-07T00:00:00","2012-06-08T00:00:00","2012-06-09T00:00:00","2012-06-10T00:00:00","2012-06-11T00:00:00","2012-06-12T00:00:00","2012-06-13T00:00:00","2012-06-14T00:00:00","2012-06-15T00:00:00","2012-06-16T00:00:00","2012-06-17T00:00:00","2012-06-18T00:00:00","2012-06-19T00:00:00","2012-06-20T00:00:00","2012-06-21T00:00:00","2012-06-22T00:00:00","2012-06-23T00:00:00","2012-06-24T00:00:00","2012-06-25T00:00:00","2012-06-26T00:00:00","2012-06-27T00:00:00","2012-06-28T00:00:00","2012-06-29T00:00:00","2012-06-30T00:00:00","2012-07-01T00:00:00","2012-07-02T00:00:00","2012-07-03T00:00:00","2012-07-04T00:00:00","2012-07-05T00:00:00","2012-07-06T00:00:00","2012-07-07T00:00:00","2012-07-08T00:00:00","2012-07-09T00:00:00","2012-07-10T00:00:00","2012-07-11T00:00:00","2012-07-12T00:00:00","2012-07-13T00:00:00","2012-07-14T00:00:00","2012-07-15T00:00:00","2012-07-16T00:00:00","2012-07-17T00:00:00","2012-07-18T00:00:00","2012-07-19T00:00:00","2012-07-20T00:00:00","2012-07-21T00:00:00","2012-07-22T00:00:00","2012-07-23T00:00:00","2012-07-24T00:00:00","2012-07-25T00:00:00","2012-07-26T00:00:00","2012-07-27T00:00:00","2012-07-28T00:00:00","2012-07-29T00:00:00","2012-07-30T00:00:00","2012-07-31T00:00:00","2012-08-01T00:00:00","2012-08-02T00:00:00","2012-08-03T00:00:00","2012-08-04T00:00:00","2012-08-05T00:00:00","2012-08-06T00:00:00","2012-08-07T00:00:00","2012-08-08T00:00:00","2012-08-09T00:00:00","2012-08-10T00:00:00","2012-08-11T00:00:00","2012-08-12T00:00:00","2012-08-13T00:00:00","2012-08-14T00:00:00","2012-08-15T00:00:00","2012-08-16T00:00:00","2012-08-17T00:00:00","2012-08-18T00:00:00","2012-08-19T00:00:00","2012-08-20T00:00:00","2012-08-21T00:00:00","2012-08-22T00:00:00","2012-08-23T00:00:00","2012-08-24T00:00:00","2012-08-25T00:00:00","2012-08-26T00:00:00","2012-08-27T00:00:00","2012-08-28T00:00:00","2012-08-29T00:00:00","2012-08-30T00:00:00","2012-08-31T00:00:00","2012-09-01T00:00:00","2012-09-02T00:00:00","2012-09-03T00:00:00","2012-09-04T00:00:00","2012-09-05T00:00:00","2012-09-06T00:00:00","2012-09-07T00:00:00","2012-09-08T00:00:00","2012-09-09T00:00:00","2012-09-10T00:00:00","2012-09-11T00:00:00","2012-09-12T00:00:00","2012-09-13T00:00:00","2012-09-14T00:00:00","2012-09-15T00:00:00","2012-09-16T00:00:00","2012-09-17T00:00:00","2012-09-18T00:00:00","2012-09-19T00:00:00","2012-09-20T00:00:00","2012-09-21T00:00:00","2012-09-22T00:00:00","2012-09-23T00:00:00","2012-09-24T00:00:00","2012-09-25T00:00:00","2012-09-26T00:00:00","2012-09-27T00:00:00","2012-09-28T00:00:00","2012-09-29T00:00:00","2012-09-30T00:00:00","2012-10-01T00:00:00","2012-10-02T00:00:00","2012-10-03T00:00:00","2012-10-04T00:00:00","2012-10-05T00:00:00","2012-10-06T00:00:00","2012-10-07T00:00:00","2012-10-08T00:00:00","2012-10-09T00:00:00","2012-10-10T00:00:00","2012-10-11T00:00:00","2012-10-12T00:00:00","2012-10-13T00:00:00","2012-10-14T00:00:00","2012-10-15T00:00:00","2012-10-16T00:00:00","2012-10-17T00:00:00","2012-10-18T00:00:00","2012-10-19T00:00:00","2012-10-20T00:00:00","2012-10-21T00:00:00","2012-10-22T00:00:00","2012-10-23T00:00:00","2012-10-24T00:00:00","2012-10-25T00:00:00","2012-10-26T00:00:00","2012-10-27T00:00:00","2012-10-28T00:00:00","2012-10-29T00:00:00","2012-10-30T00:00:00","2012-10-31T00:00:00","2012-11-01T00:00:00","2012-11-02T00:00:00","2012-11-03T00:00:00","2012-11-04T00:00:00","2012-11-05T00:00:00","2012-11-06T00:00:00","2012-11-07T00:00:00","2012-11-08T00:00:00","2012-11-09T00:00:00","2012-11-10T00:00:00","2012-11-11T00:00:00","2012-11-12T00:00:00","2012-11-13T00:00:00","2012-11-14T00:00:00","2012-11-15T00:00:00","2012-11-16T00:00:00","2012-11-17T00:00:00","2012-11-18T00:00:00","2012-11-19T00:00:00","2012-11-20T00:00:00","2012-11-21T00:00:00","2012-11-22T00:00:00","2012-11-23T00:00:00","2012-11-24T00:00:00","2012-11-25T00:00:00","2012-11-26T00:00:00","2012-11-27T00:00:00","2012-11-28T00:00:00","2012-11-29T00:00:00","2012-11-30T00:00:00","2012-12-01T00:00:00","2012-12-02T00:00:00","2012-12-03T00:00:00","2012-12-04T00:00:00","2012-12-05T00:00:00","2012-12-06T00:00:00","2012-12-07T00:00:00","2012-12-08T00:00:00","2012-12-09T00:00:00","2012-12-10T00:00:00","2012-12-11T00:00:00","2012-12-12T00:00:00","2012-12-13T00:00:00","2012-12-14T00:00:00","2012-12-15T00:00:00","2012-12-16T00:00:00","2012-12-17T00:00:00","2012-12-18T00:00:00","2012-12-19T00:00:00","2012-12-20T00:00:00","2012-12-21T00:00:00","2012-12-22T00:00:00","2012-12-23T00:00:00","2012-12-24T00:00:00","2012-12-25T00:00:00","2012-12-26T00:00:00","2012-12-27T00:00:00","2012-12-28T00:00:00","2012-12-29T00:00:00","2012-12-30T00:00:00","2012-12-31T00:00:00"],"xaxis":"x","y":[-2523.3608997700585,-1412.0826679194224,727.8530234957707,1548.960292804206,99.71767851850746,0.156052029006787,-880.9126740229904,-998.1819708112412,-229.4282037205871,-99.84206607166016,-1047.460732248842,-412.8768844177721,-92.46073224884184,283.5574634266434,350.3906477499006,58.2623263437074,-1350.467209005943,-199.3050863743738,1139.2623263437074,638.7719210080959,-543.2078017754434,167.9571900882636,-133.57767273214677,26.450236206867885,438.8047632968951,-34.37506840269043,-1390.3697964970825,-353.39072216141767,-545.5083387545783,425.3906177001745,-119.28520660385948,-593.3335436000953,-808.4403823657503,266.24286022890055,-563.9909428166297,-403.28232148149254,346.22685723030827,190.241845215382,-226.62499071524917,644.8527138296304,392.93071820564046,-522.4282037205871,397.9471837926166,850.9939792058867,150.39614724811554,97.82399366703112,-679.2259668729585,-76.70315114095683,-1031.103620106097,-1130.3177912503263,-574.3177912503265,321.9425864765776,26.590459860130068,-230.22770064956148,-1204.525924947322,-911.425140998704,-317.5449926636775,-32.34693157792299,101.43101734742412,-2122.6002541836256,-297.57631290656445,-1029.8817719908038,-1386.8601799442213,-993.0073278872436,378.84275487709465,794.7000858527977,64.65259557391255,-264.8941615945514,-349.36351678670144,-138.31411661244783,-803.353958007091,-393.462000733869,-208.83428432180153,-0.2444545115386063,-83.69816268016257,-824.2783538478197,-422.2282376059766,-1202.863954825103,-57.302512273194225,-239.19396383594267,-69.79609060363418,277.1385671574744,510.9009653427811,-2709.295865166593,-1201.790818954846,40.92533806699157,890.8591649688951,70.46441925699128,292.4985088326148,531.6391002299415,-637.3045973256358,-889.4136876259136,87.091682319543,570.5379992661328,161.81270012140885,616.509840769615,240.2504958107611,-1060.790818954846,-2096.981287414297,-300.4020807222869,371.41414800356233,446.3412750202287,380.03242266195775,446.1831787468618,-345.77681475907775,-1104.9389305832692,-265.4631734636514,308.28490178231186,-813.3349643156062,691.3349713003099,792.5501483351145,-1225.299503498503,-3452.199212760263,-643.7899662472655,624.4820237812346,629.2024621024966,-476.6650286996901,421.7077090570692,-1090.366050108757,-727.5051684097334,68.60131451590405,-314.5322080981641,210.65116369013776,378.3980243890792,-192.51496376139585,-1025.8560811563366,-1062.314016158136,64.43614657352646,-349.0685556112221,-1224.9976331410298,481.5830104269753,526.5922940910468,-484.34883630986224,-1454.2826265579588,-2816.5168220973183,-909.011736975136,1005.1305740782165,776.3387686288197,826.6511636901378,-494.98193834094127,-986.8195800422928,-1646.7796098541976,-149.96744705072888,-918.8560811563366,274.15646922708765,-115.46067323842816,-1742.0777800882515,-2117.337903485377,-1912.092987103625,-517.9980534062324,672.8520345361358,805.5393267615718,-1842.6593513635123,-18.123205802608936,-236.62562075143344,552.8535164530995,819.8947733265986,768.1385671574744,1072.3743792485657,812.8931939878285,-610.6438301232329,-998.9695725544688,262.93971055137445,-941.4538639114952,810.9935978603053,748.226529695542,672.2995532930463,-684.632067200816,-1019.9002568081878,-857.5629959434027,430.2618877962868,125.00706964923484,7.784766055580803,-373.1290163767107,-561.6322301260179,-995.5286384933823,247.26439544698223,942.148737401837,840.0177838566351,637.589298455222,-347.66935424790336,-1042.1132147295366,-963.4822909709736,105.93111853837128,387.8764754701224,-347.6182319296704,-180.249127079157,-171.0012336244081,-1432.6129004891764,-1572.289018912722,170.35616987676713,-48.060289448625554,897.6570111911742,1021.2643954469822,625.3677698739821,-797.0678756019624,-1218.1773709139643,462.6511288812271,803.4303757312482,-258.06653403146083,445.1051474609576,-314.29883121704916,-2175.8163068044623,-571.0492567999827,491.3437233334198,1136.1004813955087,1412.149414806624,589.9228807681247,427.93111853837127,-850.8545767608412,-938.5398254487372,700.5916093626993,851.2143964701036,1116.0709349779836,966.6968965062624,575.536575529004,-693.0665340314608,-1503.651183010665,468.6968965062624,641.568193069631,952.834235904058,788.1454232391588,-671.7356045530178,-1371.0777800882515,-1052.1590126611172,291.93971055137445,283.03042744553113,742.3519530735321,879.9627066794428,285.565026678888,-395.34948893397905,-2086.2164695748297,76.78353042517028,489.89319398782845,843.9507432000173,982.2340303712108,844.8804373357025,-1213.5498765139337,-1664.453863911495,516.9321243980376,735.3909760845518,1090.7171668710062,1134.351953073532,640.2583030545384,-1520.9729338744382,-2221.884746907386,-1336.489819651052,622.3821151899465,928.4722018366092,173.11525309261378,1047.9321243980376,-1018.4448071806736,260.59396631835443,1063.876794197391,1368.4409606130291,1442.6085718811237,1349.7173734420394,1204.8702477217305,160.28490178231186,-167.92867324936924,509.990731548397,-1712.8651592565775,1548.6847803319915,1546.7677297852006,1539.6085718811237,447.5811663227323,285.28114267396813,1331.7717623940234,1447.1639104133835,1519.4577948147407,1206.5811663227323,960.3173463136465,746.7519349588338,-283.4498516648855,882.2569430360209,-1036.314383554356,1406.7317792545828,999.7317792545828,1236.0325529492711,-325.8614328425256,-1780.4806632672853,355.9925142799775,1063.4141480035623,1807.7717623940232,2087.509840769615,1556.209181045154,525.0873259770096,-577.3365231919552,-168.764644018348,1748.6023293126973,1695.1973881185222,1361.09131862268,-617.8420802553055,330.4644192569913,-146.39868548409595,1256.4681871003413,1399.694328761531,1545.113059464703,1238.1639104133849,1030.721954734694,37.90075687215085,-1455.5203303841336,-4662.899706295764,-2617.235457313686,1129.94939446628,1426.2098305766526,1235.3867704641807,227.29684885904317,199.99267211275628,1244.3961472481155,2008.9307182056405,1326.047563700392,1008.1121199066474,1227.3132619887642,148.6749303574652,15.169279786311565,213.93339915390425,-114.70315114095683,1814.587755109192,1462.2100337527345,1316.053998291241,618.5935283555195,-126.54976379313212,823.448242314581,931.6010709486336,553.1182280091962,-2378.961753493959,-1809.3965317592229,-1436.750886034411,-668.1604542524847,1175.2428602289006,500.1003730112716,1669.700925966065,1868.507223714144,1895.0715746252597,829.0715746252595,-165.1504672408414,913.4324427528207,1147.9465626317433,726.484910555565,2125.7444330646517,1004.9174302085794,195.27502492709755,-1468.116778979659,186.72164615218023,1241.1182280091962,1607.375596274354,1724.047563700392,1961.200535704222,591.2156926409002,-815.3500403788908,41.08732597700964,652.6364832132986,1159.9529117048282,65.30801153818038,-312.5868760873914,-1488.2823214814923,-1404.160454252485,-1848.4895208583737,-2758.7829034444276,-2319.157245122906,-1021.4527952476988,-427.0194473399506,-1696.0194473399506,-1477.2555669353485,-96.46496738357293],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>LOWESS trendline</b><br><br>year=2012<br>date=%{x}<br>resid_r2=%{y} <b>(trend)</b><extra></extra>","legendgroup":"2012","marker":{"color":"#EF553B","symbol":"circle"},"mode":"lines","name":"2012","showlegend":false,"x":["2012-01-01T00:00:00","2012-01-02T00:00:00","2012-01-03T00:00:00","2012-01-04T00:00:00","2012-01-05T00:00:00","2012-01-06T00:00:00","2012-01-07T00:00:00","2012-01-08T00:00:00","2012-01-09T00:00:00","2012-01-10T00:00:00","2012-01-11T00:00:00","2012-01-12T00:00:00","2012-01-13T00:00:00","2012-01-14T00:00:00","2012-01-15T00:00:00","2012-01-16T00:00:00","2012-01-17T00:00:00","2012-01-18T00:00:00","2012-01-19T00:00:00","2012-01-20T00:00:00","2012-01-21T00:00:00","2012-01-22T00:00:00","2012-01-23T00:00:00","2012-01-24T00:00:00","2012-01-25T00:00:00","2012-01-26T00:00:00","2012-01-27T00:00:00","2012-01-28T00:00:00","2012-01-29T00:00:00","2012-01-30T00:00:00","2012-01-31T00:00:00","2012-02-01T00:00:00","2012-02-02T00:00:00","2012-02-03T00:00:00","2012-02-04T00:00:00","2012-02-05T00:00:00","2012-02-06T00:00:00","2012-02-07T00:00:00","2012-02-08T00:00:00","2012-02-09T00:00:00","2012-02-10T00:00:00","2012-02-11T00:00:00","2012-02-12T00:00:00","2012-02-13T00:00:00","2012-02-14T00:00:00","2012-02-15T00:00:00","2012-02-16T00:00:00","2012-02-17T00:00:00","2012-02-18T00:00:00","2012-02-19T00:00:00","2012-02-20T00:00:00","2012-02-21T00:00:00","2012-02-22T00:00:00","2012-02-23T00:00:00","2012-02-24T00:00:00","2012-02-25T00:00:00","2012-02-26T00:00:00","2012-02-27T00:00:00","2012-02-28T00:00:00","2012-02-29T00:00:00","2012-03-01T00:00:00","2012-03-02T00:00:00","2012-03-03T00:00:00","2012-03-04T00:00:00","2012-03-05T00:00:00","2012-03-06T00:00:00","2012-03-07T00:00:00","2012-03-08T00:00:00","2012-03-09T00:00:00","2012-03-10T00:00:00","2012-03-11T00:00:00","2012-03-12T00:00:00","2012-03-13T00:00:00","2012-03-14T00:00:00","2012-03-15T00:00:00","2012-03-16T00:00:00","2012-03-17T00:00:00","2012-03-18T00:00:00","2012-03-19T00:00:00","2012-03-20T00:00:00","2012-03-21T00:00:00","2012-03-22T00:00:00","2012-03-23T00:00:00","2012-03-24T00:00:00","2012-03-25T00:00:00","2012-03-26T00:00:00","2012-03-27T00:00:00","2012-03-28T00:00:00","2012-03-29T00:00:00","2012-03-30T00:00:00","2012-03-31T00:00:00","2012-04-01T00:00:00","2012-04-02T00:00:00","2012-04-03T00:00:00","2012-04-04T00:00:00","2012-04-05T00:00:00","2012-04-06T00:00:00","2012-04-07T00:00:00","2012-04-08T00:00:00","2012-04-09T00:00:00","2012-04-10T00:00:00","2012-04-11T00:00:00","2012-04-12T00:00:00","2012-04-13T00:00:00","2012-04-14T00:00:00","2012-04-15T00:00:00","2012-04-16T00:00:00","2012-04-17T00:00:00","2012-04-18T00:00:00","2012-04-19T00:00:00","2012-04-20T00:00:00","2012-04-21T00:00:00","2012-04-22T00:00:00","2012-04-23T00:00:00","2012-04-24T00:00:00","2012-04-25T00:00:00","2012-04-26T00:00:00","2012-04-27T00:00:00","2012-04-28T00:00:00","2012-04-29T00:00:00","2012-04-30T00:00:00","2012-05-01T00:00:00","2012-05-02T00:00:00","2012-05-03T00:00:00","2012-05-04T00:00:00","2012-05-05T00:00:00","2012-05-06T00:00:00","2012-05-07T00:00:00","2012-05-08T00:00:00","2012-05-09T00:00:00","2012-05-10T00:00:00","2012-05-11T00:00:00","2012-05-12T00:00:00","2012-05-13T00:00:00","2012-05-14T00:00:00","2012-05-15T00:00:00","2012-05-16T00:00:00","2012-05-17T00:00:00","2012-05-18T00:00:00","2012-05-19T00:00:00","2012-05-20T00:00:00","2012-05-21T00:00:00","2012-05-22T00:00:00","2012-05-23T00:00:00","2012-05-24T00:00:00","2012-05-25T00:00:00","2012-05-26T00:00:00","2012-05-27T00:00:00","2012-05-28T00:00:00","2012-05-29T00:00:00","2012-05-30T00:00:00","2012-05-31T00:00:00","2012-06-01T00:00:00","2012-06-02T00:00:00","2012-06-03T00:00:00","2012-06-04T00:00:00","2012-06-05T00:00:00","2012-06-06T00:00:00","2012-06-07T00:00:00","2012-06-08T00:00:00","2012-06-09T00:00:00","2012-06-10T00:00:00","2012-06-11T00:00:00","2012-06-12T00:00:00","2012-06-13T00:00:00","2012-06-14T00:00:00","2012-06-15T00:00:00","2012-06-16T00:00:00","2012-06-17T00:00:00","2012-06-18T00:00:00","2012-06-19T00:00:00","2012-06-20T00:00:00","2012-06-21T00:00:00","2012-06-22T00:00:00","2012-06-23T00:00:00","2012-06-24T00:00:00","2012-06-25T00:00:00","2012-06-26T00:00:00","2012-06-27T00:00:00","2012-06-28T00:00:00","2012-06-29T00:00:00","2012-06-30T00:00:00","2012-07-01T00:00:00","2012-07-02T00:00:00","2012-07-03T00:00:00","2012-07-04T00:00:00","2012-07-05T00:00:00","2012-07-06T00:00:00","2012-07-07T00:00:00","2012-07-08T00:00:00","2012-07-09T00:00:00","2012-07-10T00:00:00","2012-07-11T00:00:00","2012-07-12T00:00:00","2012-07-13T00:00:00","2012-07-14T00:00:00","2012-07-15T00:00:00","2012-07-16T00:00:00","2012-07-17T00:00:00","2012-07-18T00:00:00","2012-07-19T00:00:00","2012-07-20T00:00:00","2012-07-21T00:00:00","2012-07-22T00:00:00","2012-07-23T00:00:00","2012-07-24T00:00:00","2012-07-25T00:00:00","2012-07-26T00:00:00","2012-07-27T00:00:00","2012-07-28T00:00:00","2012-07-29T00:00:00","2012-07-30T00:00:00","2012-07-31T00:00:00","2012-08-01T00:00:00","2012-08-02T00:00:00","2012-08-03T00:00:00","2012-08-04T00:00:00","2012-08-05T00:00:00","2012-08-06T00:00:00","2012-08-07T00:00:00","2012-08-08T00:00:00","2012-08-09T00:00:00","2012-08-10T00:00:00","2012-08-11T00:00:00","2012-08-12T00:00:00","2012-08-13T00:00:00","2012-08-14T00:00:00","2012-08-15T00:00:00","2012-08-16T00:00:00","2012-08-17T00:00:00","2012-08-18T00:00:00","2012-08-19T00:00:00","2012-08-20T00:00:00","2012-08-21T00:00:00","2012-08-22T00:00:00","2012-08-23T00:00:00","2012-08-24T00:00:00","2012-08-25T00:00:00","2012-08-26T00:00:00","2012-08-27T00:00:00","2012-08-28T00:00:00","2012-08-29T00:00:00","2012-08-30T00:00:00","2012-08-31T00:00:00","2012-09-01T00:00:00","2012-09-02T00:00:00","2012-09-03T00:00:00","2012-09-04T00:00:00","2012-09-05T00:00:00","2012-09-06T00:00:00","2012-09-07T00:00:00","2012-09-08T00:00:00","2012-09-09T00:00:00","2012-09-10T00:00:00","2012-09-11T00:00:00","2012-09-12T00:00:00","2012-09-13T00:00:00","2012-09-14T00:00:00","2012-09-15T00:00:00","2012-09-16T00:00:00","2012-09-17T00:00:00","2012-09-18T00:00:00","2012-09-19T00:00:00","2012-09-20T00:00:00","2012-09-21T00:00:00","2012-09-22T00:00:00","2012-09-23T00:00:00","2012-09-24T00:00:00","2012-09-25T00:00:00","2012-09-26T00:00:00","2012-09-27T00:00:00","2012-09-28T00:00:00","2012-09-29T00:00:00","2012-09-30T00:00:00","2012-10-01T00:00:00","2012-10-02T00:00:00","2012-10-03T00:00:00","2012-10-04T00:00:00","2012-10-05T00:00:00","2012-10-06T00:00:00","2012-10-07T00:00:00","2012-10-08T00:00:00","2012-10-09T00:00:00","2012-10-10T00:00:00","2012-10-11T00:00:00","2012-10-12T00:00:00","2012-10-13T00:00:00","2012-10-14T00:00:00","2012-10-15T00:00:00","2012-10-16T00:00:00","2012-10-17T00:00:00","2012-10-18T00:00:00","2012-10-19T00:00:00","2012-10-20T00:00:00","2012-10-21T00:00:00","2012-10-22T00:00:00","2012-10-23T00:00:00","2012-10-24T00:00:00","2012-10-25T00:00:00","2012-10-26T00:00:00","2012-10-27T00:00:00","2012-10-28T00:00:00","2012-10-29T00:00:00","2012-10-30T00:00:00","2012-10-31T00:00:00","2012-11-01T00:00:00","2012-11-02T00:00:00","2012-11-03T00:00:00","2012-11-04T00:00:00","2012-11-05T00:00:00","2012-11-06T00:00:00","2012-11-07T00:00:00","2012-11-08T00:00:00","2012-11-09T00:00:00","2012-11-10T00:00:00","2012-11-11T00:00:00","2012-11-12T00:00:00","2012-11-13T00:00:00","2012-11-14T00:00:00","2012-11-15T00:00:00","2012-11-16T00:00:00","2012-11-17T00:00:00","2012-11-18T00:00:00","2012-11-19T00:00:00","2012-11-20T00:00:00","2012-11-21T00:00:00","2012-11-22T00:00:00","2012-11-23T00:00:00","2012-11-24T00:00:00","2012-11-25T00:00:00","2012-11-26T00:00:00","2012-11-27T00:00:00","2012-11-28T00:00:00","2012-11-29T00:00:00","2012-11-30T00:00:00","2012-12-01T00:00:00","2012-12-02T00:00:00","2012-12-03T00:00:00","2012-12-04T00:00:00","2012-12-05T00:00:00","2012-12-06T00:00:00","2012-12-07T00:00:00","2012-12-08T00:00:00","2012-12-09T00:00:00","2012-12-10T00:00:00","2012-12-11T00:00:00","2012-12-12T00:00:00","2012-12-13T00:00:00","2012-12-14T00:00:00","2012-12-15T00:00:00","2012-12-16T00:00:00","2012-12-17T00:00:00","2012-12-18T00:00:00","2012-12-19T00:00:00","2012-12-20T00:00:00","2012-12-21T00:00:00","2012-12-22T00:00:00","2012-12-23T00:00:00","2012-12-24T00:00:00","2012-12-25T00:00:00","2012-12-26T00:00:00","2012-12-27T00:00:00","2012-12-28T00:00:00","2012-12-29T00:00:00","2012-12-30T00:00:00","2012-12-31T00:00:00"],"xaxis":"x","y":[-234.59176570101081,-234.25943229891774,-233.92427467538505,-233.58613723685568,-233.2449004449733,-232.9005030215761,-232.55291090876835,-232.20209621089194,-231.8479999472293,-231.49052661017527,-231.12957372665065,-230.76503559650777,-230.39677474252852,-230.02463887565852,-229.648482891531,-229.26818688844588,-228.88365947461156,-228.49481602533118,-228.10153784431176,-227.70370723911614,-227.30125327977396,-226.89414145332017,-226.48233658309636,-226.06581599082958,-225.64456666378678,-225.21859186742626,-224.78792256704736,-224.35259474840075,-223.91261112790775,-223.46795884358212,-223.01861841066147,-222.56459067279033,-222.10588318222946,-221.64248755520333,-221.17437729082536,-220.70153488662595,-220.22393423265228,-219.74154503066103,-219.25435779202246,-218.7623821072831,-218.26563846280098,-217.7641799459051,-217.25808546137844,-216.74743623793324,-216.232340849376,-215.71294959902863,-215.18943945761808,-214.662002165295,-214.13082383634097,-213.59609080005674,-213.0579648156009,-212.5165765726302,-211.97204662010935,-211.4245153601648,-210.87413973847893,-210.32107620851417,-209.76545244263875,-209.20737077470156,-208.6469295368231,-208.08423801916027,-207.51941221699667,-206.95253818864498,-206.38368687531928,-205.8128979362284,-205.24016739041662,-204.6654627167593,-204.08876967869386,-203.51010988309932,-202.92952201001006,-202.34704554341104,-201.7627168781356,-201.1765702663275,-200.58862040750094,-199.9988707749058,-199.40732486093657,-198.81399472861563,-198.21889406011647,-197.6220145828477,-197.02332561122932,-196.4227606742709,-195.8202458337324,-195.21570366347774,-194.60906125851702,-194.0002679111022,-193.38929367360177,-192.77607095482958,-192.16048478442502,-191.5424228722583,-190.92181102830062,-190.29859762841133,-189.67276012958345,-189.0443069183955,-188.41322744154567,-187.77947653783045,-187.14301818044473,-186.50385440610842,-185.86202056562067,-185.2175992317104,-184.57069526063785,-183.92135988981244,-183.26955952637223,-182.61522180016829,-181.95827922302718,-181.29867604036846,-180.63635960266512,-179.97126068790988,-179.30321765809558,-178.63190233120935,-177.95682815904235,-177.27734096859805,-176.59252698789373,-175.90123579702492,-175.20201592367255,-174.49291348185452,-173.77138450530413,-173.03420971882724,-172.27749092331524,-171.4965728794619,-170.68590722934454,-169.83905200067701,-168.9486055999265,-168.00634996029294,-166.15184920951137,-164.24785289133516,-162.29447108966122,-160.2922880461959,-158.24202304279797,-156.14453819483697,-154.0003076713284,-151.80976052279254,-149.5736044772203,-147.29239245660955,-144.96725290359942,-142.5998733354571,-140.19172723850656,-137.7435976334854,-135.2553982106929,-132.72625743981342,-130.1551591776628,-127.54203764725159,-124.88750789741567,-122.19199935786955,-119.45597689574436,-116.67949788215041,-113.86193590874025,-111.00215487150099,-108.09898537135132,-105.15108277710542,-102.15664118471696,-99.11379160621793,-96.02045286378181,-92.87448766598887,-89.67365360117803,-86.416003748673,-83.1003737738856,-79.72624442799246,-76.29374380731934,-72.80321664375586,-69.25513430021685,-65.649895521508,-61.988541517182185,-58.272943216636385,-54.50476974307828,-50.685010345362905,-46.81410319478561,-42.89151189691337,-38.915852059317885,-34.885663523839426,-30.800001665512156,-26.658287676064,-22.45932679441605,-18.201610057038682,-13.883916705981168,-9.505767098804501,-5.066773018903679,-0.5665304042552516,3.9957933824993117,8.621212662823417,13.310816988835526,18.065841348048718,22.88763814046907,27.777105882951254,32.73401398759103,37.75785096778146,42.84765948219581,48.00208944539673,53.2197214957835,58.49960334191072,63.841005758628135,69.24322304891503,74.70599241490433,80.2296856122702,85.81497834196851,91.46237198521644,97.17212958073223,102.9439082221876,108.77682356285997,114.66960050486311,120.62040477283328,126.62745503464787,132.68881859039348,138.8026657109793,144.96686139053406,151.17885877822505,157.4363809256755,163.737438013827,170.07918806867383,176.45763656260687,182.86800159719272,189.30506122539902,195.7632814000706,202.2377126496855,208.72397705013833,215.21804046685,221.7161292693415,228.21500806339324,234.71168917062306,241.20304600180737,247.68653528911966,254.16019727081306,260.621781196971,267.0687781658249,273.4984961346211,279.9079972066561,286.29416850002684,292.6541659697108,298.98598970282467,305.2882273265031,311.55971380325565,317.7996716992893,324.00720048321057,330.1805421384451,336.31794180030477,342.4181568334907,348.47982369785234,354.500837766348,360.478275465752,366.40895281466106,372.28962136861463,378.1171060498331,383.8888843390043,389.60219887875184,395.2535732739572,400.83915004753493,406.3548095296109,410.8325124639373,415.11007119047565,419.18202321957625,423.05160205653925,426.72767010014667,430.22247758803184,433.55009568003675,436.7252510947529,439.76265079963093,442.6764104395012,445.4796673203045,448.1843998668374,450.80137719176304,453.34018643559375,455.80931988194976,458.216329881681,460.56793640951065,462.8700900158646,465.1280833098552,467.3465243297386,469.5293909527007,471.6801236883241,473.80175000107647,475.8969466608381,477.96803395973063,480.01700381838754,482.04556096592734,484.05517231293766,486.0471125720219,488.0225129061592,489.98241535095195,491.92776103571873,493.859436571161,495.77821328713947,497.68475002181407,499.579615340329,501.4633603499266,503.3365370473118,505.1996575331552,507.0531544207881,508.89735932717053,510.73250497701343,512.5587486854166,514.3762248939048,516.1850903765712,517.9855040586672,519.777559831355,521.5612777339092,523.3366332179056,525.1036202557156,526.862241280289,528.6125035354509,530.3543723114315,532.0877560941558,533.8125070793433,535.5284328093684,537.2353158564503,538.9329578143103,540.6211994732101,542.2998879925627,543.9688716329251,545.6279672924093,547.2769464389579,548.9155489485441,550.5435209943583,552.1606155036255,553.766552294189,555.3609985648977,556.9435821600348,558.513904111012,560.0715445928993,561.6161009937032,563.1471998965663,564.6644936447849,566.1676539999379,567.6563157167976,569.1300706369948,570.5884805732979,572.0311098397983,573.4575494238778,574.8673878568158,576.2602024968469,577.6355781121968,578.9931341361598,580.3325465214928,581.6535562841598,582.9559516810302,584.2395112568196,585.5040042355597,586.7491566224852,587.9746381777611,589.180069591869,590.3650637716241,591.529261692779,592.6722975294803,593.7937835495914,594.8933148098885,595.970441386279,597.0246953884819,598.0556391224377,599.062895423095,600.04611446188,601.0049196358326,601.9388845537566,602.8475264078829,603.7303126888863,604.5867184141896,605.4162795130839,606.2185733911596,606.9931800173732,607.7396650730516,608.4576265699493,609.1467238666669,609.8066928596501,610.4373474871672,611.0385623167998,611.610241183719,612.152332502731,612.6648581152544,613.1479101698742,613.6016535242705],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"date"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"resid_r2"}},"legend":{"title":{"text":"year"},"tracegroupgap":0},"margin":{"t":60}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c8dd925b-3f67-45bf-bb80-0218f180b2df');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>bikes_daily[<span class="st">"month"</span>] <span class="op">=</span> bikes_daily[<span class="st">"month"</span>].astype(<span class="st">"category"</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>bikes_daily[<span class="st">"month"</span>] <span class="op">=</span> bikes_daily[<span class="st">"month"</span>].cat.set_categories(</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Jan"</span>, <span class="st">"Feb"</span>, <span class="st">"Mar"</span>, <span class="st">"Apr"</span>, <span class="st">"May"</span>, <span class="st">"Jun"</span>, <span class="st">"Jul"</span>, <span class="st">"Aug"</span>, <span class="st">"Sep"</span>, <span class="st">"Oct"</span>,</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Nov"</span>, <span class="st">"Dec"</span>]</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>mod_r3 <span class="op">=</span> ols(<span class="st">"registered ~ (temp_m + I(temp_m**2)) * year + month"</span>, data<span class="op">=</span>bikes_daily).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>display(mod_r3.rsquared, mod_r2.rsquared)  <span class="co"># month 추가로 인한 R2가 증가분</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-execution_count="52">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.7053133207290785</code></pre>
</div>
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.6681656702540484</code></pre>
</div>
</div>
</div>
</div>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mod_r3.summary(slim<span class="op">=</span><span class="va">True</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:             registered   R-squared:                       0.705
Model:                            OLS   Adj. R-squared:                  0.699
No. Observations:                 731   F-statistic:                     106.8
Covariance Type:            nonrobust   Prob (F-statistic):          5.06e-177
===============================================================================================
                                  coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------------------
Intercept                     180.4219    321.376      0.561      0.575    -450.533     811.377
year[T.2012]                -1303.6834    477.877     -2.728      0.007   -2241.896    -365.470
month[T.Feb]                   16.8034    163.242      0.103      0.918    -303.688     337.295
month[T.Mar]                   70.8816    178.488      0.397      0.691    -279.543     421.306
month[T.Apr]                  291.0583    198.194      1.469      0.142     -98.054     680.171
month[T.May]                  649.9690    223.994      2.902      0.004     210.202    1089.735
month[T.Jun]                 1021.8257    248.544      4.111      0.000     533.862    1509.790
month[T.Jul]                  853.7906    277.468      3.077      0.002     309.039    1398.542
month[T.Aug]                  985.2755    256.593      3.840      0.000     481.509    1489.042
month[T.Sep]                 1085.0187    229.970      4.718      0.000     633.521    1536.516
month[T.Oct]                  995.3379    200.849      4.956      0.000     601.012    1389.663
month[T.Nov]                  946.3070    178.028      5.315      0.000     596.786    1295.828
month[T.Dec]                  568.6498    166.184      3.422      0.001     242.381     894.918
temp_m                       6120.3584   1655.969      3.696      0.000    2869.207    9371.509
temp_m:year[T.2012]           1.24e+04   2087.372      5.938      0.000    8297.282    1.65e+04
I(temp_m ** 2)              -3876.3024   1731.986     -2.238      0.026   -7276.698    -475.907
I(temp_m ** 2):year[T.2012] -1.105e+04   2082.531     -5.304      0.000   -1.51e+04   -6958.051
===============================================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>bikes_daily_resid[<span class="st">"resid_r3"</span>] <span class="op">=</span> mod_r3.resid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid, x<span class="op">=</span><span class="st">'date'</span>, y<span class="op">=</span><span class="st">'resid_r3'</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<p><img src="misc3_files/figure-html/cell-59-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>bikes_daily_resid.query(<span class="st">'resid_r3 &lt; -2000'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>          date  casual  registered  bikers  temp_h  temp_l  temp_m  windspeed   
238 2011-08-27     226         889    1115    0.70    0.64    0.68       0.38  \
365 2012-01-01     686        1608    2294    0.48    0.26    0.37       0.19   
448 2012-03-24    1033        2339    3372    0.58    0.44    0.50       0.19   
477 2012-04-22     120         907    1027    0.46    0.34    0.40       0.34   
499 2012-05-14     342        2501    2843    0.62    0.52    0.57       0.21   
517 2012-06-01     533        3594    4127    0.74    0.60    0.65       0.24   
567 2012-07-21    1264        3195    4459    0.62    0.58    0.60       0.21   
596 2012-08-19    1208        3341    4549    0.68    0.60    0.64       0.09   
610 2012-09-02    2613        3197    5810    0.76    0.66    0.70       0.06   
626 2012-09-18     371        3702    4073    0.70    0.56    0.62       0.36   
645 2012-10-07     781        2729    3510    0.44    0.36    0.42       0.14   
667 2012-10-29       2          20      22    0.44    0.44    0.44       0.36   
668 2012-10-30      87        1009    1096    0.50    0.30    0.32       0.21   
691 2012-11-22     955        1470    2425    0.48    0.22    0.34       0.05   
692 2012-11-23    1603        2307    3910    0.50    0.24    0.37       0.15   
693 2012-11-24     532        1745    2277    0.40    0.24    0.28       0.38   
723 2012-12-24     174         746     920    0.28    0.18    0.23       0.08   
724 2012-12-25     440         573    1013    0.40    0.22    0.29       0.17   
725 2012-12-26       9         432     441    0.32    0.20    0.24       0.32   

    wday month  year  day  resid_r1  resid_r2  resid_r3  
238  Sat   Aug  2011  239  -2684.90  -2571.66  -2646.14  
365  Sun   Jan  2012    1  -2547.15  -2523.36  -2076.62  
448  Sat   Mar  2012   84  -2534.92  -2709.30  -2144.65  
477  Sun   Apr  2012  113  -3420.09  -3452.20  -3257.34  
499  Mon   May  2012  135  -2617.94  -2816.52  -2736.06  
517  Fri   Jun  2012  153  -1686.05  -1842.66  -2030.91  
567  Sat   Jul  2012  203  -1981.47  -2175.82  -2269.92  
596  Sun   Aug  2012  232  -1913.58  -2086.22  -2260.83  
610  Sun   Sep  2012  246  -2117.08  -2221.88  -2421.29  
626  Tue   Sep  2012  262  -1531.50  -1712.87  -2003.01  
645  Sun   Oct  2012  281  -1713.18  -1780.48  -2262.11  
667  Mon   Oct  2012  303  -4557.17  -4662.90  -5109.92  
668  Tue   Oct  2012  304  -2772.73  -2617.24  -3243.66  
691  Thu   Nov  2012  327  -2475.28  -2378.96  -2923.31  
692  Fri   Nov  2012  328  -1836.95  -1809.40  -2311.43  
693  Sat   Nov  2012  329  -1714.25  -1436.75  -2075.52  
723  Mon   Dec  2012  359  -2293.17  -1848.49  -2183.76  
724  Tue   Dec  2012  360  -2994.59  -2758.78  -2999.77  
725  Wed   Dec  2012  361  -2718.69  -2319.16  -2635.28  </code></pre>
</div>
</div>
<p>달로 예측변수 11개를 추가하는 것은 적절한가?</p>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># using numeric months</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>bikes_daily[<span class="st">"month_n"</span>] <span class="op">=</span> bikes_daily[<span class="st">"date"</span>].dt.month</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>mod_r4 <span class="op">=</span> ols(<span class="st">"registered ~ (temp_m + I(temp_m**2)) * year + month_n"</span>, data<span class="op">=</span>bikes_daily).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>display(mod_r4.rsquared, mod_r3.rsquared)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-execution_count="60">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.6944153242438855</code></pre>
</div>
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.7053133207290785</code></pre>
</div>
</div>
</div>
</div>
<div class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>bikes_daily_resid[<span class="st">"resid_r4"</span>] <span class="op">=</span> mod_r4.resid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid, x<span class="op">=</span><span class="st">'date'</span>, y<span class="op">=</span><span class="st">'resid_r4'</span>)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>), group<span class="op">=</span><span class="st">"year"</span>)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<p><img src="misc3_files/figure-html/cell-66-output-1.png" width="599" height="445"></p>
</div>
</div>
<p><strong>모형의 비교와 각 예측변수의 공헌도</strong></p>
<div class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>mod_r_year <span class="op">=</span> ols(<span class="st">"registered ~ year"</span>, data<span class="op">=</span>bikes_daily).fit()</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>mod_r_temp <span class="op">=</span> ols(<span class="st">"registered ~ year + temp_m + I(temp_m**2)"</span>, data<span class="op">=</span>bikes_daily).fit()</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>mod_r_month <span class="op">=</span> ols(</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"registered ~ year + temp_m + I(temp_m**2) + month"</span>, data<span class="op">=</span>bikes_daily</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>).fit()</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f" year: </span><span class="sc">{</span>mod_r_year<span class="sc">.</span>rsquared<span class="sc">:.3f}</span><span class="ch">\n</span><span class="ss">"</span>,</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"year + temperature: </span><span class="sc">{</span>mod_r_temp<span class="sc">.</span>rsquared<span class="sc">:.3f}</span><span class="ch">\n</span><span class="ss">"</span>,</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"year + temperature + months: </span><span class="sc">{</span>mod_r_month<span class="sc">.</span>rsquared<span class="sc">:.3f}</span><span class="ss">"</span>,</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> year: 0.353
 year + temperature: 0.653
 year + temperature + months: 0.686</code></pre>
</div>
</div>
</section>
<section id="casual-bikers" class="level3">
<h3 class="anchored" data-anchor-id="casual-bikers">Casual bikers</h3>
<div class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily, x<span class="op">=</span><span class="st">'temp_m'</span>, y<span class="op">=</span><span class="st">'casual'</span>)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"year"</span>)</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<p><img src="misc3_files/figure-html/cell-69-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># log scale for y</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily, x<span class="op">=</span><span class="st">'temp_m'</span>, y<span class="op">=</span><span class="st">'casual'</span>)</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">2</span>))</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"year"</span>)</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>    .scale(y<span class="op">=</span><span class="st">"log"</span>)</span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<p><img src="misc3_files/figure-html/cell-70-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 온도를 5개 구간으로 나누어 각 온도구간에서의 분포를 살펴봄</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>bikes_daily[<span class="st">"temp_m_cat"</span>] <span class="op">=</span> pd.qcut(bikes_daily[<span class="st">"temp_m"</span>], <span class="dv">5</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily, x<span class="op">=</span><span class="st">'casual'</span>)</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>    .add(so.Bars(), so.Hist())</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"temp_m_cat"</span>)</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<p><img src="misc3_files/figure-html/cell-71-output-1.png" width="753" height="369"></p>
</div>
</div>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>bikes_daily[<span class="st">"temp_m_cat"</span>] <span class="op">=</span> pd.qcut(bikes_daily[<span class="st">"temp_m"</span>], <span class="dv">7</span>)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>bikes_daily.assign(casual2 <span class="op">=</span> <span class="kw">lambda</span> x: x.casual <span class="op">/</span> <span class="dv">100</span>).groupby(<span class="st">"temp_m_cat"</span>)[<span class="st">"casual2"</span>].agg([<span class="st">"mean"</span>, <span class="st">"var"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>                 mean   var
temp_m_cat                 
(0.0581, 0.281]  1.94  2.54
(0.281, 0.355]   4.33  9.42
(0.355, 0.447]   6.74 38.09
(0.447, 0.544]  10.11 46.18
(0.544, 0.635]  11.71 58.61
(0.635, 0.716]  12.67 42.25
(0.716, 0.862]  11.88 29.46</code></pre>
</div>
</div>
<ul>
<li><p>이렇게 count 데이터가 전형적으로 보이는 “평균에 따라 표준편차가 함께 증가”하는 경우, generalized linear model (GLM)의 하나인 포아송(Poisson) 분포나 이를 보정한 다른 분포를 결합한 모형을 이용하는 것이 권장됨.</p></li>
<li><p>Y를 transform하는 것보다 여러 이점이 있는 한편, Y가 내재적으로 log나 sqrt의 의미를 띤다면 transform하는 것이 더 적절할 수도 있음.</p></li>
</ul>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>bikes_daily[<span class="st">"lcasual"</span>] <span class="op">=</span> np.log2(bikes_daily[<span class="st">"casual"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>mod_c <span class="op">=</span> ols(<span class="st">"lcasual ~ (temp_m + I(temp_m**2)) + year"</span>, data<span class="op">=</span>bikes_daily).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mod_c.summary(slim<span class="op">=</span><span class="va">True</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                lcasual   R-squared:                       0.550
Model:                            OLS   Adj. R-squared:                  0.549
No. Observations:                 731   F-statistic:                     296.7
Covariance Type:            nonrobust   Prob (F-statistic):          9.58e-126
==================================================================================
                     coef    std err          t      P&gt;|t|      [0.025      0.975]
----------------------------------------------------------------------------------
Intercept          3.8560      0.263     14.635      0.000       3.339       4.373
year[T.2012]       0.5466      0.073      7.456      0.000       0.403       0.690
temp_m            16.6871      1.164     14.341      0.000      14.403      18.972
I(temp_m ** 2)   -11.6124      1.168     -9.942      0.000     -13.905      -9.319
==================================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>bikes_daily_resid[<span class="st">"resid_c"</span>] <span class="op">=</span> mod_c.resid</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>bikes_daily_resid[<span class="st">"lcasual"</span>] <span class="op">=</span> np.log(bikes_daily_resid[<span class="st">"casual"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid, x<span class="op">=</span><span class="st">'date'</span>, y<span class="op">=</span><span class="st">'resid_c'</span>)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>    .limit(y<span class="op">=</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">2</span>))</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<p><img src="misc3_files/figure-html/cell-77-output-1.png" width="599" height="445"></p>
</div>
</div>
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 요일에 따라 차이가 있는가?</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sbcustom <span class="im">import</span> boxplot</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>boxplot(bikes_daily, x<span class="op">=</span><span class="st">"wday"</span>, y<span class="op">=</span><span class="st">"casual"</span>).facet(<span class="st">"year"</span>).layout(size<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<p><img src="misc3_files/figure-html/cell-78-output-1.png" width="753" height="369"></p>
</div>
</div>
<p>요일의 차이가 추가적으로 설명할 수 있는 부분이 있는가?</p>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid, x<span class="op">=</span><span class="st">'date'</span>, y<span class="op">=</span><span class="st">'resid_c'</span>)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(color<span class="op">=</span><span class="st">".6"</span>), so.Agg(<span class="kw">lambda</span> x: <span class="dv">0</span>))</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>    .limit(y<span class="op">=</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">2</span>))</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"wday"</span>, wrap<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">9</span>, <span class="dv">5</span>))</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">
<p><img src="misc3_files/figure-html/cell-79-output-1.png" width="849" height="465"></p>
</div>
</div>
<div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>mod_c2 <span class="op">=</span> ols(<span class="st">"lcasual ~ (temp_m + I(temp_m**2)) + year + wday"</span>, data<span class="op">=</span>bikes_daily).fit()</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>display(mod_c2.rsquared, mod_c.rsquared)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-execution_count="75">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.723390182749666</code></pre>
</div>
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>0.5504710452535373</code></pre>
</div>
</div>
</div>
</div>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>bikes_daily_resid[<span class="st">"resid_c2"</span>] <span class="op">=</span> mod_c2.resid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>화수목 요일에서 나타나는 계절별 패턴의 차이를 반영할건가?</p>
<div class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid.query(<span class="st">'wday in ["Tue", "Wed", "Thu"]'</span>), x<span class="op">=</span><span class="st">'date'</span>, y<span class="op">=</span><span class="st">'resid_c2'</span>, color<span class="op">=</span><span class="st">"year"</span>)</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(color<span class="op">=</span><span class="st">".6"</span>), so.Agg(<span class="kw">lambda</span> x: <span class="dv">0</span>))</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>    .limit(y<span class="op">=</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">2</span>))</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">9</span>, <span class="dv">5</span>))</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="77">
<p><img src="misc3_files/figure-html/cell-82-output-1.png" width="942" height="465"></p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>temp_m <span class="op">=</span> np.linspace(bikes_daily[<span class="st">"temp_m"</span>].<span class="bu">min</span>(), bikes_daily[<span class="st">"temp_m"</span>].<span class="bu">max</span>(), <span class="dv">30</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> np.array([<span class="st">"2011"</span>, <span class="st">"2012"</span>])</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> itertools <span class="im">import</span> product</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>grid <span class="op">=</span> pd.DataFrame(</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">list</span>(product(temp_m, year)),</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>[<span class="st">"temp_m"</span>, <span class="st">"year"</span>],</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>grid[<span class="st">"pred_r1"</span>] <span class="op">=</span> mod_r1.predict(grid)</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>grid[<span class="st">"pred_r2"</span>] <span class="op">=</span> mod_r2.predict(grid)</span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>    so.Plot(grid, x<span class="op">=</span><span class="st">'temp_m'</span>, color<span class="op">=</span><span class="st">"year"</span>)</span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>    .pair(y<span class="op">=</span>[<span class="st">'pred_r1'</span>, <span class="st">'pred_r2'</span>])</span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots())</span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="cell" data-execution_count="78">
<div class="cell-output cell-output-display" data-execution_count="78">
<p><img src="misc3_files/figure-html/cell-83-output-1.png" width="697" height="445"></p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>    so.Plot(bikes_daily_resid, x<span class="op">=</span><span class="st">'temp_m'</span>, y<span class="op">=</span><span class="st">'resid_c'</span>)</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>    .add(so.Dots(color<span class="op">=</span><span class="st">'.6'</span>))</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(), so.PolyFit(<span class="dv">5</span>))</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>    .add(so.Line(color<span class="op">=</span><span class="st">"w"</span>), so.Agg(<span class="kw">lambda</span> x: <span class="dv">0</span>))</span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>    .facet(<span class="st">"year"</span>)</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>    .layout(size<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">6</span>))</span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>    .limit(y<span class="op">=</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">2</span>))</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="cell" data-execution_count="79">
<div class="cell-output cell-output-display" data-execution_count="79">
<p><img src="misc3_files/figure-html/cell-84-output-1.png" width="657" height="561"></p>
</div>
</div>
<p><strong>모형의 비교와 각 예측변수의 공헌도</strong></p>
<div class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>mod_c_year <span class="op">=</span> ols(<span class="st">"casual ~ year"</span>, data<span class="op">=</span>bikes_daily).fit()</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>mod_c_temp <span class="op">=</span> ols(<span class="st">"registered ~ year + temp_m + I(temp_m**2)"</span>, data<span class="op">=</span>bikes_daily).fit()</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>mod_c_month <span class="op">=</span> ols(</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"registered ~ year + temp_m + I(temp_m**2) + month"</span>, data<span class="op">=</span>bikes_daily</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>).fit()</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>mod_c_wday <span class="op">=</span> ols(</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"registered ~ year + temp_m + I(temp_m**2) + month + wday"</span>, data<span class="op">=</span>bikes_daily</span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>).fit()</span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f" year: </span><span class="sc">{</span>mod_c_year<span class="sc">.</span>rsquared<span class="sc">:.3f}</span><span class="ch">\n</span><span class="ss">"</span>,</span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"year + temperature: </span><span class="sc">{</span>mod_c_temp<span class="sc">.</span>rsquared<span class="sc">:.3f}</span><span class="ch">\n</span><span class="ss">"</span>,</span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"year + temperature + months: </span><span class="sc">{</span>mod_c_month<span class="sc">.</span>rsquared<span class="sc">:.3f}</span><span class="ch">\n</span><span class="ss">"</span>,</span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"year + temperature + months + days of the week: </span><span class="sc">{</span>mod_c_wday<span class="sc">.</span>rsquared<span class="sc">:.3f}</span><span class="ss">"</span>,</span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> year: 0.062
 year + temperature: 0.653
 year + temperature + months: 0.686
 year + temperature + months + days of the week: 0.757</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This work © 2023 by Sungkyun Cho is licensed under CC BY-NC-SA 4.0</div>   
  </div>
</footer>



</body></html>